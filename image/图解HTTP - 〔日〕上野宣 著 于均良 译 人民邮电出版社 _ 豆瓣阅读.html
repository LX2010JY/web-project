<!DOCTYPE html>
<!-- saved from url=(0046)https://read.douban.com/reader/ebook/12054542/ -->
<html lang="zh-CN" class="ua-windows ua-chrome ua-chrome52 ua-webkit  fit-for-desktop reading-view"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta http-equiv="Pragma" content="no-cache"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><meta http-equiv="Expires" content="Sun, 6 Mar 2005 01:00:00 GMT"><meta name="google-site-verification" content="Wyui6dsg_StZ9K3rJ6xtsNbxPhELyhMkEp2MsAhviBQ"><meta property="weixin:image" content="https://img3.doubanio.com/f/ark/be39d339b9b95b615e95c7dc542832c3e22ace84/pics/weixin_cover_new.png"><meta name="keywords" content="图解HTTP,〔日〕上野宣,电子书,下载,在线阅读,阅读器,互联网,网络,计算机,web,协议,HTTP"><meta name="description" content="在线阅读《图解HTTP》。"><link rel="shortcut icon" href="https://img3.doubanio.com/f/ark/659eb773e1f2fa4ba28fd8e0946258b85e7984d4/pics/favicon/favicon.ico" type="image/x-icon"><link rel="mask-icon" href="https://img3.doubanio.com/f/ark/d3da4917e951bca9782cbd65f1d64e72056fb7aa/pics/favicon/safari-mask-icon.svg" color="#5795aa"><title>图解HTTP - 〔日〕上野宣 著 于均良 译 人民邮电出版社 | 豆瓣阅读</title><!--[if IE]><script src="https://img3.doubanio.com/f/ark/9d2734cdfe07431638a9e30f56caa66f3d53fadf/js/widget/html5-elements.js"></script><![endif]--><link type="application/opensearchdescription+xml" rel="search" href="https://read.douban.com/opensearch"><meta name="viewport" content="user-scalable=no, width=device-width, initial-scale=1.0, user-scalable=0, minimum-scale=1.0, maximum-scale=1.0"><meta name="renderer" content="webkit"><meta property="weixin:image" content="https://img3.doubanio.com/f/ark/be39d339b9b95b615e95c7dc542832c3e22ace84/pics/weixin_cover_new.png"><meta property="weixin:ga:dcs" content="read-reader"><link rel="stylesheet" href="./图解HTTP - 〔日〕上野宣 著 于均良 译 人民邮电出版社 _ 豆瓣阅读_files/galreader.css"><link rel="stylesheet" href="./图解HTTP - 〔日〕上野宣 著 于均良 译 人民邮电出版社 _ 豆瓣阅读_files/index.css"><link rel="stylesheet" href="./图解HTTP - 〔日〕上野宣 著 于均良 译 人民邮电出版社 _ 豆瓣阅读_files/ebook.css" id="ebook-style-sheet"><link rel="stylesheet" href="./图解HTTP - 〔日〕上野宣 著 于均良 译 人民邮电出版社 _ 豆瓣阅读_files/gallery.css" id="gallery-style-sheet"><link rel="stylesheet" href="./图解HTTP - 〔日〕上野宣 著 于均良 译 人民邮电出版社 _ 豆瓣阅读_files/lite.css" id="column-style-sheet"><link href="./图解HTTP - 〔日〕上野宣 著 于均良 译 人民邮电出版社 _ 豆瓣阅读_files/wechat-guide.css" rel="stylesheet"><link rel="stylesheet" href="./图解HTTP - 〔日〕上野宣 著 于均良 译 人民邮电出版社 _ 豆瓣阅读_files/phone.css" media="screen and (-webkit-min-device-pixel-ratio: 1.1) and (max-width: 720px), screen and (max-device-width: 480px)"><!--[if IE]><script src="https://img3.doubanio.com/f/ark/dbec4ac5cd19eeadaab260dad5fa59881ec26bec/js/mod/browser.js"></script><script>
      !function(){var Ark=window.Ark||{};window.Ark=Ark,Ark.requireAwesomeBrowser=function(options){var env=Ark.env,distUrl=options.fallback,distUrlHash="";env.nonsupport=env.msie&&env.msie<options.minIE,env.nonsupport&&(env.msie&&env.shell&&env.rank>0&&(distUrlHash=2===env.rank?"#requireChangeToWebkit":"#requireNewIE"),distUrlHash&&(distUrl+=distUrlHash),location.replace(distUrl))}}();


      Ark.requireAwesomeBrowser({
        fallback: "/awesome_browsers"
      , minIE: 8
      });
    </script><![endif]--><script type="text/javascript" async="" src="./图解HTTP - 〔日〕上野宣 著 于均良 译 人民邮电出版社 _ 豆瓣阅读_files/ecommerce.js"></script><script type="text/javascript" defer="" async="" src="./图解HTTP - 〔日〕上野宣 著 于均良 译 人民邮电出版社 _ 豆瓣阅读_files/piwik.js"></script><script async="" src="./图解HTTP - 〔日〕上野宣 著 于均良 译 人民邮电出版社 _ 豆瓣阅读_files/analytics.js"></script><script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');</script><script>
ga('create', 'UA-7019765-12', { userId: '151007451' });</script><script type="text/javascript" charset="utf-8" async="" src="./图解HTTP - 〔日〕上野宣 著 于均良 译 人民邮电出版社 _ 豆瓣阅读_files/4.736b46f2550a12fe2163.js"></script><meta name="twitter:title" content="图解HTTP - 〔日〕上野宣 著 于均良 译 人民邮电出版社 | 豆瓣阅读"><meta name="twitter:description" content="在线阅读《图解HTTP》。"><meta name="twitter:image" content="https://img3.doubanio.com/view/ark_article_cover/ipad/public/12054542.jpg"><meta name="twitter:url" content="https://read.douban.com/ebook/12054542/"><meta name="og:title" content="图解HTTP - 〔日〕上野宣 著 于均良 译 人民邮电出版社 | 豆瓣阅读"><meta name="og:description" content="在线阅读《图解HTTP》。"><meta name="og:image" content="https://img3.doubanio.com/view/ark_article_cover/ipad/public/12054542.jpg"><meta name="og:url" content="https://read.douban.com/ebook/12054542/"><meta name="share:comment" content="#图解HTTP# "><script async="" src="./图解HTTP - 〔日〕上野宣 著 于均良 译 人民邮电出版社 _ 豆瓣阅读_files/MathJax.js"></script><style type="text/css">.MathJax_Preview {color: #888}
#MathJax_Message {position: fixed; left: 45%; bottom: 1.5em; background-color: #E6E6E6; border: none; margin: 0px; padding: 2px 8px; z-index: 102; color: #999; font-size: auto; width: auto; white-space: nowrap; top: 18.75em; background: none}
#MathJax_MSIE_Frame {position: absolute; top: 0; left: 45%; width: 0px; z-index: 101; border: 0px; margin: 0px; padding: 0px}
.MathJax_Error {color: #CC0000; font-style: italic}
</style><style id="page-style">	            .page { height: 30.5625em }	            .page .bd { height: 30em }	          </style></head><body class="lang-cn"><div id="MathJax_Message" style="display: none;"></div><div style="display:none;" id="home" class=""></div><div style="display:none" id="notifications" class=""><header class="bookshelf-header"><div class="top-info"><div class="inner"><h1 class="logo"><a href="https://read.douban.com/" title="豆瓣阅读">豆瓣阅读</a><span class="section-name">最近阅读</span></h1><div class="entrances"><a href="https://read.douban.com/app?icn=from-bookshelf" class="app-download icon-phone">客户端免费下载</a><a href="https://read.douban.com/" class="back-to-store icon-store">作品商店</a></div></div></div><nav class="nav"><div class="inner"><ul class="nav-main items"><li class=""><a href="https://read.douban.com/reader/all">全部</a></li><li class=""><a href="https://read.douban.com/reader/ebooks">完整作品</a></li><li class=""><a href="https://read.douban.com/reader/columns">专栏 / 连载</a></li></ul><ul class="items items-minor user-info"><!-- _performtips_ --><li class="nav-reminder"><a href="https://read.douban.com/reader/notifications/">阅读提醒&nbsp;<span class="num notification-counter-tip"></span></a></li><li class="nav-reminder"><a href="https://read.douban.com/people/151007451/library">拥有的作品</a></li><li class="more-active"><a href="https://read.douban.com/account" title="账户" class="bn-more-hoverable"></a><a href="https://read.douban.com/account" title="账户" target="_blank" class="name bn-more"><span>影忆</span><span class="arrow"></span></a><div class="more-items "><table><tbody><tr><td nowrap="nowrap"><a href="https://read.douban.com/account/" class="link-profile">余额<span class="extra-info">¥ 0.00</span></a></td></tr><tr><td nowrap="nowrap"><a href="https://read.douban.com/account/redeem" class="link-profile">礼券<span class="extra-info">0 张</span></a></td></tr><tr><td nowrap="nowrap"><a href="https://read.douban.com/account/wishlist" class="link-profile">购物车<span class="extra-info">5 本</span></a></td></tr><tr><td nowrap="nowrap"><a href="https://read.douban.com/people/151007451/library" class="link-profile">拥有的作品<span class="extra-info">5 本</span></a></td></tr><tr><td nowrap="nowrap"><a href="https://read.douban.com/people/151007451/" class="link-profile">个人主页</a></td></tr><tr><td nowrap="nowrap"><a href="https://www.douban.com/" target="_blank" class="douban-home">返回豆瓣首页</a></td></tr><tr><td nowrap="nowrap"><a href="https://read.douban.com/logout?ck=3nSZ" class="logout">退出登录</a></td></tr></tbody></table><script>
// XXX: 提醒页属于阅读器没有 jQuery 和 Do
if (typeof Do !== 'undefined') {
  Do(function(){function toggleMenu(showOrHide){menuContainer.toggle(showOrHide)}var moreActive=$(".more-active"),menuContainer=moreActive.find(".more-items"),bnMore=moreActive.find(".bn-more"),hoverableBtns=moreActive.find(".bn-more-hoverable").add(bnMore),useClick="undefined"!=typeof window.ontouchstart;if(useClick){var doc=$(document),menuContainerIsShown=!1,toggleMenuWithClick=function(showOrHide){menuContainerIsShown?doc.off(".moreItems"):doc.on("click.moreItems",function(e){moreActive.has(e.target).length||toggleMenuWithClick(!1)}),menuContainerIsShown=!menuContainerIsShown,toggleMenu(showOrHide)};return bnMore.click(function(){toggleMenuWithClick()}),void hoverableBtns.click(function(e){e.preventDefault()})}var moreActiveIsHover=!1,moniterElements=$(hoverableBtns).add(menuContainer);moniterElements.mouseenter(function(){moreActiveIsHover=!0,toggleMenu(!0)}).mouseleave(function(){moreActiveIsHover=!1,setTimeout(function(){moreActiveIsHover||toggleMenu(!1)},0)}),menuContainer.on("click","a",function(){toggleMenu(!1)})});

}</script></div></li></ul></div></nav></header><div class="notifications-content"><div class="notifications-msg"></div><ol class="notifications-list"></ol></div><script id="tmpl-notification-item" type="text/template">
{{
var predicateText = { comment: '回复' , favorite: '收藏' , author: '创建' };}}<div class="hd {{= is_read ? '' : 'unread'}}"><div class="actions">{{ if(!isAuthor) { }}<a href="#" class="stop-notify">不再提醒</a>{{ } }}</div><div class="content">你{{= predicateText[subscribe_reason] }}的<span>《{{= works_title}}》</span>的<a href="{{= annotation_url}}" title="在阅读器查看" target="_blank" class="annotation-link">批注</a>有了<a href="{{= annotation_url}}" title="在阅读器查看" target="_blank" class="reply-count"><em>{{= count }}</em>条新回复</a></div></div><div class="bd detail"><p class="annotation-text">{{- annotation_text }}</p><div class="notification-comments"></div></div></script><script id="tmpl-notification-topics" type="text/template">
{{
var topicDict = { today: '今天' , yesterday: '昨天' , week: '一周内' , month: '一月内' , older: '更早' };}}{{ for (var i = 0, ilen = topics.length; i < ilen; ++i) { }}{{ var topic = topics[i]; }}<li style="display:none;" class="period {{= topic }}"><div class="hd"><h3>{{= topicDict[topic]}}</h3></div><div class="bd"><ol></ol></div></li>{{ } }}</script><script id="tmpl-notification-comment-item" type="text/template">
{{- text}}&nbsp;-&nbsp;<a href="{{- author.url }}" target="_blank" class="author">{{- author.name}}</a>{{ if (isArticleAuthor) { }}<span class="label-author">（作者）</span>{{ } }}</script><div class="bookshelf-footer"><p class="copyright">2005 - 2016 douban.com, all rights reserved.</p><ul class="footer-nav"><li><a href="https://read.douban.com/contact">联系我们</a></li><li><a href="https://read.douban.com/copyright">版权声明</a></li><li><a href="https://help.douban.com/help/ask?category=book&amp;amp;type=39">使用反馈</a></li><li><a href="https://read.douban.com/faq">常见问题</a></li></ul></div></div><div style="" id="ark-reader" class=""><aside class="aside"><ul class="panel">  <li id="fn-back" class="sep" data-helper="阅读列表"><a href="https://read.douban.com/reader/ebooks/" class="arkicon-back" title="阅读列表"></a></li>  <li id="fn-layout" class="sep" data-helper="阅读模式"><a href="https://read.douban.com/reader/ebook/12054542/#" title="阅读模式" class="arkicon-layout "></a></li><li id="fn-salon" data-helper="评论"><a href="https://read.douban.com/ebook/12054542/reviews?sort=score" title="评论" target="_blank" class="arkicon-salon"></a></li>  <li id="fn-rating" data-helper="评分"><a href="https://read.douban.com/reader/ebook/12054542/#" title="评分" target="_blank" class="arkicon-star"></a></li>   <li id="fn-share" class="sep page-sharing" data-title="分享"><a href="https://read.douban.com/reader/ebook/12054542/#" title="分享" class="arkicon-share"></a></li>  <li id="fn-question" data-helper="提问"><a href="https://read.douban.com/ebook/12054542/questions" title="提问" target="_blank" class="arkicon-question"></a></li><li id="fn-comment" data-helper="讨论"><a href="https://read.douban.com/ebook/12054542/reviews?sort=score" title="讨论" target="_blank" class="arkicon-salon"></a></li><li id="fn-favor" data-helper="喜欢" class="sep"><a href="https://read.douban.com/reader/ebook/12054542/#" title="喜欢" target="_blank" class="arkicon-favor"></a></li>  <li id="fn-annotation-filter" data-helper="切换批注可见模式" class="sep"><a href="https://read.douban.com/reader/ebook/12054542/#" title="切换批注可见模式" target="_blank" class="icon-annotations-filter opened"></a></li><li id="fn-search" data-helper="搜索" class="sep"><a href="https://read.douban.com/reader/ebook/12054542/#" title="搜索" target="_blank" class="icon-search"></a></li>  <li id="fn-helper"><a href="https://read.douban.com/reader/ebook/12054542/#" title="指南">指南</a></li><div class="reader-bubble" style="display: none;"><b class="bubble-close">×</b><div class="bubble-content"></div></div></ul></aside><div class="article" style="height: 38.0625em;"><div class="mask-spine"></div><div class="inner" style="left: -43.375em; right: auto; height: 38.0625em;"><div class="page" data-pagination="30">

<div class="hd"><h3><a href="https://read.douban.com/ebook/12054542/" target="_blank">1.4.1　负责传输的 IP 协议</a></h3><div class="header-extra"></div></div><div class="bd"><div style="" class="content"><p data-pid="285023629" class="illus expandable H_C" depth="" group-item-num=""> <span class="illus-outer"><img data-seq="199875086" data-orig-src="https://img3.doubanio.com/view/ark_works_pic/common-largeshow/public/199875086.jpg" data-orig-width="566" data-orig-height="519" data-has-micro="false" data-src="https://img3.doubanio.com/view/ark_works_pic/common-large/public/199875086.jpg" width="544" height="498" style="height: 424px; width: 462.397px;" src="./图解HTTP - 〔日〕上野宣 著 于均良 译 人民邮电出版社 _ 豆瓣阅读_files/199875086.jpg" class="loaded"></span>  <span class="legend"><span class="ellipsis-prop"></span><span class="ellipsis-main text-content">  <span></span>  </span><span class="ellipsis-end" style="display: none;">…</span></span> </p></div></div><div id="" class="ft">30</div><div class="markings-layer" style="top: -480px;"><div class="page-marking-container"><div class="selection"></div></div></div><div class="annotation-counter-layer" style="display: block; top: -480px;"></div></div><div class="page curr-page" data-pagination="31">

<div class="hd"><h3><a href="https://read.douban.com/ebook/12054542/" target="_blank">1.4.2　确保可靠性的 TCP 协议</a></h3><div class="header-extra"><div class="header-controls">


<span class="bought-status">已购买</span></div></div></div><div class="bd"><div style="" class="content"><p data-pid="285023631" class="paragraph left " depth="" group-item-num=""> <dfn><span class="word" data-length="1" data-offset="0">
</span></dfn> </p><p data-pid="285023632" class="headline indent center bold " depth="" group-item-num=""> <dfn><em class="emphasize"><span class="word" data-length="5" data-offset="0">1.4.2</span><span class="word" data-length="1" data-offset="5">　</span><span class="word" data-length="1" data-offset="6">确</span><span class="word" data-length="1" data-offset="7">保</span><span class="word" data-length="1" data-offset="8">可</span><span class="word" data-length="1" data-offset="9">靠</span><span class="word" data-length="1" data-offset="10">性</span><span class="word" data-length="1" data-offset="11">的</span><span class="word" data-length="1" data-offset="12"> </span><span class="word" data-length="3" data-offset="13">TCP</span><span class="word" data-length="1" data-offset="16"> </span><span class="word" data-length="1" data-offset="17">协</span><span class="word" data-length="1" data-offset="18">议</span></em></dfn> </p><p data-pid="285023634" class="paragraph left " depth="" group-item-num=""> <dfn><span class="word" data-length="1" data-offset="0">按</span><span class="word" data-length="1" data-offset="1">层</span><span class="word" data-length="1" data-offset="2">次</span><span class="word" data-length="1" data-offset="3">分</span><span class="word" data-length="1" data-offset="4">，</span><span class="word" data-length="3" data-offset="5">TCP</span><span class="word" data-length="1" data-offset="8"> </span><span class="word" data-length="1" data-offset="9">位</span><span class="word" data-length="1" data-offset="10">于</span><span class="word" data-length="1" data-offset="11">传</span><span class="word" data-length="1" data-offset="12">输</span><span class="word" data-length="1" data-offset="13">层</span><span class="word" data-length="1" data-offset="14">，</span><span class="word" data-length="1" data-offset="15">提</span><span class="word" data-length="1" data-offset="16">供</span><span class="word" data-length="1" data-offset="17">可</span><span class="word" data-length="1" data-offset="18">靠</span><span class="word" data-length="1" data-offset="19">的</span><span class="word" data-length="1" data-offset="20">字</span><span class="word" data-length="1" data-offset="21">节</span><span class="word" data-length="1" data-offset="22">流</span><span class="word" data-length="1" data-offset="23">服</span><span class="word" data-length="1" data-offset="24">务</span><span class="word" data-length="1" data-offset="25">。</span></dfn> </p><p data-pid="285023635" class="paragraph left " depth="" group-item-num=""> <dfn><span class="word" data-length="1" data-offset="0">所</span><span class="word" data-length="1" data-offset="1">谓</span><span class="word" data-length="1" data-offset="2">的</span><span class="word" data-length="1" data-offset="3">字</span><span class="word" data-length="1" data-offset="4">节</span><span class="word" data-length="1" data-offset="5">流</span><span class="word" data-length="1" data-offset="6">服</span><span class="word" data-length="1" data-offset="7">务</span><span class="word" data-length="1" data-offset="8">（</span><span class="word" data-length="4" data-offset="9">Byte</span><span class="word" data-length="1" data-offset="13"> </span><span class="word" data-length="6" data-offset="14">Stream</span><span class="word" data-length="1" data-offset="20"> </span><span class="word" data-length="7" data-offset="21">Service</span><span class="word" data-length="1" data-offset="28">）</span><span class="word" data-length="1" data-offset="29">是</span><span class="word" data-length="1" data-offset="30">指</span><span class="word" data-length="1" data-offset="31">，</span><span class="word" data-length="1" data-offset="32">为</span><span class="word" data-length="1" data-offset="33">了</span><span class="word" data-length="1" data-offset="34">方</span><span class="word" data-length="1" data-offset="35">便</span><span class="word" data-length="1" data-offset="36">传</span><span class="word" data-length="1" data-offset="37">输</span><span class="word" data-length="1" data-offset="38">，</span><span class="word" data-length="1" data-offset="39">将</span><span class="word" data-length="1" data-offset="40">大</span><span class="word" data-length="1" data-offset="41">块</span><span class="word" data-length="1" data-offset="42">数</span><span class="word" data-length="1" data-offset="43">据</span><span class="word" data-length="1" data-offset="44">分</span><span class="word" data-length="1" data-offset="45">割</span><span class="word" data-length="1" data-offset="46">成</span><span class="word" data-length="1" data-offset="47">以</span><span class="word" data-length="1" data-offset="48">报</span><span class="word" data-length="1" data-offset="49">文</span><span class="word" data-length="1" data-offset="50">段</span><span class="word" data-length="1" data-offset="51">（</span><span class="word" data-length="7" data-offset="52">segment</span><span class="word" data-length="1" data-offset="59">）</span><span class="word" data-length="1" data-offset="60">为</span><span class="word" data-length="1" data-offset="61">单</span><span class="word" data-length="1" data-offset="62">位</span><span class="word" data-length="1" data-offset="63">的</span><span class="word" data-length="1" data-offset="64">数</span><span class="word" data-length="1" data-offset="65">据</span><span class="word" data-length="1" data-offset="66">包</span><span class="word" data-length="1" data-offset="67">进</span><span class="word" data-length="1" data-offset="68">行</span><span class="word" data-length="1" data-offset="69">管</span><span class="word" data-length="1" data-offset="70">理</span><span class="word" data-length="1" data-offset="71">。</span><span class="word" data-length="1" data-offset="72">而</span><span class="word" data-length="1" data-offset="73">可</span><span class="word" data-length="1" data-offset="74">靠</span><span class="word" data-length="1" data-offset="75">的</span><span class="word" data-length="1" data-offset="76">传</span><span class="word" data-length="1" data-offset="77">输</span><span class="word" data-length="1" data-offset="78">服</span><span class="word" data-length="1" data-offset="79">务</span><span class="word" data-length="1" data-offset="80">是</span><span class="word" data-length="1" data-offset="81">指</span><span class="word" data-length="1" data-offset="82">，</span><span class="word" data-length="1" data-offset="83">能</span><span class="word" data-length="1" data-offset="84">够</span><span class="word" data-length="1" data-offset="85">把</span><span class="word" data-length="1" data-offset="86">数</span><span class="word" data-length="1" data-offset="87">据</span><span class="word" data-length="1" data-offset="88">准</span><span class="word" data-length="1" data-offset="89">确</span><span class="word" data-length="1" data-offset="90">可</span><span class="word" data-length="1" data-offset="91">靠</span><span class="word" data-length="1" data-offset="92">地</span><span class="word" data-length="1" data-offset="93">传</span><span class="word" data-length="1" data-offset="94">给</span><span class="word" data-length="1" data-offset="95">对</span><span class="word" data-length="1" data-offset="96">方</span><span class="word" data-length="1" data-offset="97">。</span><span class="word" data-length="1" data-offset="98">一</span><span class="word" data-length="1" data-offset="99">言</span><span class="word" data-length="1" data-offset="100">以</span><span class="word" data-length="1" data-offset="101">蔽</span><span class="word" data-length="1" data-offset="102">之</span><span class="word" data-length="1" data-offset="103">，</span><span class="word" data-length="3" data-offset="104">TCP</span><span class="word" data-length="1" data-offset="107"> </span><span class="word" data-length="1" data-offset="108">协</span><span class="word" data-length="1" data-offset="109">议</span><span class="word" data-length="1" data-offset="110">为</span><span class="word" data-length="1" data-offset="111">了</span><span class="word" data-length="1" data-offset="112">更</span><span class="word" data-length="1" data-offset="113">容</span><span class="word" data-length="1" data-offset="114">易</span><span class="word" data-length="1" data-offset="115">传</span><span class="word" data-length="1" data-offset="116">送</span><span class="word" data-length="1" data-offset="117">大</span><span class="word" data-length="1" data-offset="118">数</span><span class="word" data-length="1" data-offset="119">据</span><span class="word" data-length="1" data-offset="120">才</span><span class="word" data-length="1" data-offset="121">把</span><span class="word" data-length="1" data-offset="122">数</span><span class="word" data-length="1" data-offset="123">据</span><span class="word" data-length="1" data-offset="124">分</span><span class="word" data-length="1" data-offset="125">割</span><span class="word" data-length="1" data-offset="126">，</span><span class="word" data-length="1" data-offset="127">而</span><span class="word" data-length="1" data-offset="128">且</span><span class="word" data-length="1" data-offset="129"> </span><span class="word" data-length="3" data-offset="130">TCP</span><span class="word" data-length="1" data-offset="133"> </span><span class="word" data-length="1" data-offset="134">协</span><span class="word" data-length="1" data-offset="135">议</span><span class="word" data-length="1" data-offset="136">能</span><span class="word" data-length="1" data-offset="137">够</span><span class="word" data-length="1" data-offset="138">确</span><span class="word" data-length="1" data-offset="139">认</span><span class="word" data-length="1" data-offset="140">数</span><span class="word" data-length="1" data-offset="141">据</span><span class="word" data-length="1" data-offset="142">最</span><span class="word" data-length="1" data-offset="143">终</span><span class="word" data-length="1" data-offset="144">是</span><span class="word" data-length="1" data-offset="145">否</span><span class="word" data-length="1" data-offset="146">送</span><span class="word" data-length="1" data-offset="147">达</span><span class="word" data-length="1" data-offset="148">到</span><span class="word" data-length="1" data-offset="149">对</span><span class="word" data-length="1" data-offset="150">方</span><span class="word" data-length="1" data-offset="151">。</span></dfn> </p><p data-pid="285023637" class="paragraph left " depth="" group-item-num=""> <dfn><em class="emphasize"><span class="word" data-length="1" data-offset="0">确</span><span class="word" data-length="1" data-offset="1">保</span><span class="word" data-length="1" data-offset="2">数</span><span class="word" data-length="1" data-offset="3">据</span><span class="word" data-length="1" data-offset="4">能</span><span class="word" data-length="1" data-offset="5">到</span><span class="word" data-length="1" data-offset="6">达</span><span class="word" data-length="1" data-offset="7">目</span><span class="word" data-length="1" data-offset="8">标</span></em></dfn> </p><p data-pid="285023638" class="paragraph left " depth="" group-item-num=""> <dfn><span class="word" data-length="1" data-offset="0">为</span><span class="word" data-length="1" data-offset="1">了</span><span class="word" data-length="1" data-offset="2">准</span><span class="word" data-length="1" data-offset="3">确</span><span class="word" data-length="1" data-offset="4">无</span><span class="word" data-length="1" data-offset="5">误</span><span class="word" data-length="1" data-offset="6">地</span><span class="word" data-length="1" data-offset="7">将</span><span class="word" data-length="1" data-offset="8">数</span><span class="word" data-length="1" data-offset="9">据</span><span class="word" data-length="1" data-offset="10">送</span><span class="word" data-length="1" data-offset="11">达</span><span class="word" data-length="1" data-offset="12">目</span><span class="word" data-length="1" data-offset="13">标</span><span class="word" data-length="1" data-offset="14">处</span><span class="word" data-length="1" data-offset="15">，</span><span class="word" data-length="3" data-offset="16">TCP</span><span class="word" data-length="1" data-offset="19"> </span><span class="word" data-length="1" data-offset="20">协</span><span class="word" data-length="1" data-offset="21">议</span><span class="word" data-length="1" data-offset="22">采</span><span class="word" data-length="1" data-offset="23">用</span><span class="word" data-length="1" data-offset="24">了</span><span class="word" data-length="1" data-offset="25">三</span><span class="word" data-length="1" data-offset="26">次</span><span class="word" data-length="1" data-offset="27">握</span><span class="word" data-length="1" data-offset="28">手</span><span class="word" data-length="1" data-offset="29">（</span><span class="word" data-length="9" data-offset="30">three-way</span><span class="word" data-length="1" data-offset="39"> </span><span class="word" data-length="11" data-offset="40">handshaking</span><span class="word" data-length="1" data-offset="51">）</span><span class="word" data-length="1" data-offset="52">策</span><span class="word" data-length="1" data-offset="53">略</span><span class="word" data-length="1" data-offset="54">。</span><span class="word" data-length="1" data-offset="55">用</span><span class="word" data-length="1" data-offset="56"> </span><span class="word" data-length="3" data-offset="57">TCP</span><span class="word" data-length="1" data-offset="60"> </span><span class="word" data-length="1" data-offset="61">协</span><span class="word" data-length="1" data-offset="62">议</span><span class="word" data-length="1" data-offset="63">把</span><span class="word" data-length="1" data-offset="64">数</span><span class="word" data-length="1" data-offset="65">据</span><span class="word" data-length="1" data-offset="66">包</span><span class="word" data-length="1" data-offset="67">送</span><span class="word" data-length="1" data-offset="68">出</span><span class="word" data-length="1" data-offset="69">去</span><span class="word" data-length="1" data-offset="70">后</span><span class="word" data-length="1" data-offset="71">，</span><span class="word" data-length="3" data-offset="72">TCP</span><span class="word" data-length="1" data-offset="75"> </span><span class="word" data-length="1" data-offset="76">不</span><span class="word" data-length="1" data-offset="77">会</span><span class="word" data-length="1" data-offset="78">对</span><span class="word" data-length="1" data-offset="79">传</span><span class="word" data-length="1" data-offset="80">送</span><span class="word" data-length="1" data-offset="81">后</span><span class="word" data-length="1" data-offset="82">的</span><span class="word" data-length="1" data-offset="83">情</span><span class="word" data-length="1" data-offset="84">况</span><span class="word" data-length="1" data-offset="85">置</span><span class="word" data-length="1" data-offset="86">之</span><span class="word" data-length="1" data-offset="87">不</span><span class="word" data-length="1" data-offset="88">理</span><span class="word" data-length="1" data-offset="89">，</span><span class="word" data-length="1" data-offset="90">它</span><span class="word" data-length="1" data-offset="91">一</span><span class="word" data-length="1" data-offset="92">定</span><span class="word" data-length="1" data-offset="93">会</span><span class="word" data-length="1" data-offset="94">向</span><span class="word" data-length="1" data-offset="95">对</span><span class="word" data-length="1" data-offset="96">方</span><span class="word" data-length="1" data-offset="97">确</span><span class="word" data-length="1" data-offset="98">认</span><span class="word" data-length="1" data-offset="99">是</span><span class="word" data-length="1" data-offset="100">否</span><span class="word" data-length="1" data-offset="101">成</span><span class="word" data-length="1" data-offset="102">功</span><span class="word" data-length="1" data-offset="103">送</span><span class="word" data-length="1" data-offset="104">达</span><span class="word" data-length="1" data-offset="105">。</span><span class="word" data-length="1" data-offset="106">握</span><span class="word" data-length="1" data-offset="107">手</span><span class="word" data-length="1" data-offset="108">过</span><span class="word" data-length="1" data-offset="109">程</span><span class="word" data-length="1" data-offset="110">中</span><span class="word" data-length="1" data-offset="111">使</span><span class="word" data-length="1" data-offset="112">用</span><span class="word" data-length="1" data-offset="113">了</span><span class="word" data-length="1" data-offset="114"> </span><span class="word" data-length="3" data-offset="115">TCP</span><span class="word" data-length="1" data-offset="118"> </span><span class="word" data-length="1" data-offset="119">的</span><span class="word" data-length="1" data-offset="120">标</span><span class="word" data-length="1" data-offset="121">志</span><span class="word" data-length="1" data-offset="122">（</span><span class="word" data-length="4" data-offset="123">flag</span><span class="word" data-length="1" data-offset="127">）</span><span class="word" data-length="1" data-offset="128"> </span><span class="word" data-length="1" data-offset="129">—</span><span class="word" data-length="1" data-offset="130">—</span><span class="word" data-length="1" data-offset="131"> </span><span class="word" data-length="3" data-offset="132">SYN</span><span class="word" data-length="1" data-offset="135">（</span><span class="word" data-length="11" data-offset="136">synchronize</span><span class="word" data-length="1" data-offset="147">）</span><span class="word" data-length="1" data-offset="148"> </span><span class="word" data-length="1" data-offset="149">和</span><span class="word" data-length="1" data-offset="150"> </span><span class="word" data-length="3" data-offset="151">ACK</span><span class="word" data-length="1" data-offset="154">（</span><span class="word" data-length="15" data-offset="155">acknowledgement</span><span class="word" data-length="1" data-offset="170">）</span><span class="word" data-length="1" data-offset="171">。</span></dfn> </p><p data-pid="285023639" class="paragraph left " depth="" group-item-num=""> <dfn><span class="word" data-length="1" data-offset="0">发</span><span class="word" data-length="1" data-offset="1">送</span><span class="word" data-length="1" data-offset="2">端</span><span class="word" data-length="1" data-offset="3">首</span><span class="word" data-length="1" data-offset="4">先</span><span class="word" data-length="1" data-offset="5">发</span><span class="word" data-length="1" data-offset="6">送</span><span class="word" data-length="1" data-offset="7">一</span><span class="word" data-length="1" data-offset="8">个</span><span class="word" data-length="1" data-offset="9">带</span><span class="word" data-length="1" data-offset="10"> </span><span class="word" data-length="3" data-offset="11">SYN</span><span class="word" data-length="1" data-offset="14"> </span><span class="word" data-length="1" data-offset="15">标</span><span class="word" data-length="1" data-offset="16">志</span><span class="word" data-length="1" data-offset="17">的</span><span class="word" data-length="1" data-offset="18">数</span><span class="word" data-length="1" data-offset="19">据</span><span class="word" data-length="1" data-offset="20">包</span><span class="word" data-length="1" data-offset="21">给</span><span class="word" data-length="1" data-offset="22">对</span><span class="word" data-length="1" data-offset="23">方</span><span class="word" data-length="1" data-offset="24">。</span><span class="word" data-length="1" data-offset="25">接</span><span class="word" data-length="1" data-offset="26">收</span><span class="word" data-length="1" data-offset="27">端</span><span class="word" data-length="1" data-offset="28">收</span><span class="word" data-length="1" data-offset="29">到</span><span class="word" data-length="1" data-offset="30">后</span><span class="word" data-length="1" data-offset="31">，</span><span class="word" data-length="1" data-offset="32">回</span><span class="word" data-length="1" data-offset="33">传</span><span class="word" data-length="1" data-offset="34">一</span><span class="word" data-length="1" data-offset="35">个</span><span class="word" data-length="1" data-offset="36">带</span><span class="word" data-length="1" data-offset="37">有</span><span class="word" data-length="1" data-offset="38"> </span><span class="word" data-length="7" data-offset="39">SYN/ACK</span><span class="word" data-length="1" data-offset="46"> </span><span class="word" data-length="1" data-offset="47">标</span><span class="word" data-length="1" data-offset="48">志</span><span class="word" data-length="1" data-offset="49">的</span><span class="word" data-length="1" data-offset="50">数</span><span class="word" data-length="1" data-offset="51">据</span><span class="word" data-length="1" data-offset="52">包</span><span class="word" data-length="1" data-offset="53">以</span><span class="word" data-length="1" data-offset="54">示</span><span class="word" data-length="1" data-offset="55">传</span><span class="word" data-length="1" data-offset="56">达</span><span class="word" data-length="1" data-offset="57">确</span><span class="word" data-length="1" data-offset="58">认</span><span class="word" data-length="1" data-offset="59">信</span><span class="word" data-length="1" data-offset="60">息</span><span class="word" data-length="1" data-offset="61">。</span><span class="word" data-length="1" data-offset="62">最</span><span class="word" data-length="1" data-offset="63">后</span><span class="word" data-length="1" data-offset="64">，</span><span class="word" data-length="1" data-offset="65">发</span><span class="word" data-length="1" data-offset="66">送</span><span class="word" data-length="1" data-offset="67">端</span><span class="word" data-length="1" data-offset="68">再</span><span class="word" data-length="1" data-offset="69">回</span><span class="word" data-length="1" data-offset="70">传</span><span class="word" data-length="1" data-offset="71">一</span><span class="word" data-length="1" data-offset="72">个</span><span class="word" data-length="1" data-offset="73">带</span><span class="word" data-length="1" data-offset="74"> </span><span class="word" data-length="3" data-offset="75">ACK</span><span class="word" data-length="1" data-offset="78"> </span><span class="word" data-length="1" data-offset="79">标</span><span class="word" data-length="1" data-offset="80">志</span><span class="word" data-length="1" data-offset="81">的</span><span class="word" data-length="1" data-offset="82">数</span><span class="word" data-length="1" data-offset="83">据</span><span class="word" data-length="1" data-offset="84">包</span><span class="word" data-length="1" data-offset="85">，</span><span class="word" data-length="1" data-offset="86">代</span><span class="word" data-length="1" data-offset="87">表</span><span class="word" data-length="1" data-offset="88">“</span><span class="word" data-length="1" data-offset="89">握</span><span class="word" data-length="1" data-offset="90">手</span><span class="word" data-length="1" data-offset="91">”</span><span class="word" data-length="1" data-offset="92">结</span><span class="word" data-length="1" data-offset="93">束</span><span class="word" data-length="1" data-offset="94">。</span></dfn> </p></div></div><div id="" class="ft">31</div><div class="markings-layer" style="top: -480px;"><div class="page-marking-container"><div class="note"></div></div><div class="page-marking-container"><div class="note"></div></div><div class="page-marking-container"><div class="selection"><div class="marking selection" style="top: 263px; left: 161px; height: 17px; width: 15px;"></div></div></div></div><div class="annotation-counter-layer" style="display: block; top: -480px;"><a class="annotation-counter" style="top: 40px; right: -33px; display: none;"></a><a class="annotation-counter" style="top: 72px; right: -33px; display: none;"></a><a class="annotation-counter" style="top: 104px; right: -33px; display: none;"></a><a class="annotation-counter" style="top: 264px; right: -33px; display: none;"></a><a class="annotation-counter" style="top: 296px; right: -33px; display: none;"></a><a class="annotation-counter" style="top: 456px; right: -33px;">1</a></div></div><div class="page" data-pagination="32">

<div class="hd"><h3><a href="https://read.douban.com/ebook/12054542/" target="_blank">1.4.2　确保可靠性的 TCP 协议</a></h3><div class="header-extra"></div></div><div class="bd"><div style="" class="content"><p data-pid="285023639" class="paragraph left " style="margin-top:-2em; " data-offset="2" depth="" group-item-num=""> <dfn><span class="word" data-length="1" data-offset="0">发</span><span class="word" data-length="1" data-offset="1">送</span><span class="word" data-length="1" data-offset="2">端</span><span class="word" data-length="1" data-offset="3">首</span><span class="word" data-length="1" data-offset="4">先</span><span class="word" data-length="1" data-offset="5">发</span><span class="word" data-length="1" data-offset="6">送</span><span class="word" data-length="1" data-offset="7">一</span><span class="word" data-length="1" data-offset="8">个</span><span class="word" data-length="1" data-offset="9">带</span><span class="word" data-length="1" data-offset="10"> </span><span class="word" data-length="3" data-offset="11">SYN</span><span class="word" data-length="1" data-offset="14"> </span><span class="word" data-length="1" data-offset="15">标</span><span class="word" data-length="1" data-offset="16">志</span><span class="word" data-length="1" data-offset="17">的</span><span class="word" data-length="1" data-offset="18">数</span><span class="word" data-length="1" data-offset="19">据</span><span class="word" data-length="1" data-offset="20">包</span><span class="word" data-length="1" data-offset="21">给</span><span class="word" data-length="1" data-offset="22">对</span><span class="word" data-length="1" data-offset="23">方</span><span class="word" data-length="1" data-offset="24">。</span><span class="word" data-length="1" data-offset="25">接</span><span class="word" data-length="1" data-offset="26">收</span><span class="word" data-length="1" data-offset="27">端</span><span class="word" data-length="1" data-offset="28">收</span><span class="word" data-length="1" data-offset="29">到</span><span class="word" data-length="1" data-offset="30">后</span><span class="word" data-length="1" data-offset="31">，</span><span class="word" data-length="1" data-offset="32">回</span><span class="word" data-length="1" data-offset="33">传</span><span class="word" data-length="1" data-offset="34">一</span><span class="word" data-length="1" data-offset="35">个</span><span class="word" data-length="1" data-offset="36">带</span><span class="word" data-length="1" data-offset="37">有</span><span class="word" data-length="1" data-offset="38"> </span><span class="word" data-length="7" data-offset="39">SYN/ACK</span><span class="word" data-length="1" data-offset="46"> </span><span class="word" data-length="1" data-offset="47">标</span><span class="word" data-length="1" data-offset="48">志</span><span class="word" data-length="1" data-offset="49">的</span><span class="word" data-length="1" data-offset="50">数</span><span class="word" data-length="1" data-offset="51">据</span><span class="word" data-length="1" data-offset="52">包</span><span class="word" data-length="1" data-offset="53">以</span><span class="word" data-length="1" data-offset="54">示</span><span class="word" data-length="1" data-offset="55">传</span><span class="word" data-length="1" data-offset="56">达</span><span class="word" data-length="1" data-offset="57">确</span><span class="word" data-length="1" data-offset="58">认</span><span class="word" data-length="1" data-offset="59">信</span><span class="word" data-length="1" data-offset="60">息</span><span class="word" data-length="1" data-offset="61">。</span><span class="word" data-length="1" data-offset="62">最</span><span class="word" data-length="1" data-offset="63">后</span><span class="word" data-length="1" data-offset="64">，</span><span class="word" data-length="1" data-offset="65">发</span><span class="word" data-length="1" data-offset="66">送</span><span class="word" data-length="1" data-offset="67">端</span><span class="word" data-length="1" data-offset="68">再</span><span class="word" data-length="1" data-offset="69">回</span><span class="word" data-length="1" data-offset="70">传</span><span class="word" data-length="1" data-offset="71">一</span><span class="word" data-length="1" data-offset="72">个</span><span class="word" data-length="1" data-offset="73">带</span><span class="word" data-length="1" data-offset="74"> </span><span class="word" data-length="3" data-offset="75">ACK</span><span class="word" data-length="1" data-offset="78"> </span><span class="word" data-length="1" data-offset="79">标</span><span class="word" data-length="1" data-offset="80">志</span><span class="word" data-length="1" data-offset="81">的</span><span class="word" data-length="1" data-offset="82">数</span><span class="word" data-length="1" data-offset="83">据</span><span class="word" data-length="1" data-offset="84">包</span><span class="word" data-length="1" data-offset="85">，</span><span class="word" data-length="1" data-offset="86">代</span><span class="word" data-length="1" data-offset="87">表</span><span class="word" data-length="1" data-offset="88">“</span><span class="word" data-length="1" data-offset="89">握</span><span class="word" data-length="1" data-offset="90">手</span><span class="word" data-length="1" data-offset="91">”</span><span class="word" data-length="1" data-offset="92">结</span><span class="word" data-length="1" data-offset="93">束</span><span class="word" data-length="1" data-offset="94">。</span></dfn> </p><p data-pid="285023640" class="paragraph left " depth="" group-item-num=""> <dfn><span class="word" data-length="1" data-offset="0">若</span><span class="word" data-length="1" data-offset="1">在</span><span class="word" data-length="1" data-offset="2">握</span><span class="word" data-length="1" data-offset="3">手</span><span class="word" data-length="1" data-offset="4">过</span><span class="word" data-length="1" data-offset="5">程</span><span class="word" data-length="1" data-offset="6">中</span><span class="word" data-length="1" data-offset="7">某</span><span class="word" data-length="1" data-offset="8">个</span><span class="word" data-length="1" data-offset="9">阶</span><span class="word" data-length="1" data-offset="10">段</span><span class="word" data-length="1" data-offset="11">莫</span><span class="word" data-length="1" data-offset="12">名</span><span class="word" data-length="1" data-offset="13">中</span><span class="word" data-length="1" data-offset="14">断</span><span class="word" data-length="1" data-offset="15">，</span><span class="word" data-length="3" data-offset="16">TCP</span><span class="word" data-length="1" data-offset="19"> </span><span class="word" data-length="1" data-offset="20">协</span><span class="word" data-length="1" data-offset="21">议</span><span class="word" data-length="1" data-offset="22">会</span><span class="word" data-length="1" data-offset="23">再</span><span class="word" data-length="1" data-offset="24">次</span><span class="word" data-length="1" data-offset="25">以</span><span class="word" data-length="1" data-offset="26">相</span><span class="word" data-length="1" data-offset="27">同</span><span class="word" data-length="1" data-offset="28">的</span><span class="word" data-length="1" data-offset="29">顺</span><span class="word" data-length="1" data-offset="30">序</span><span class="word" data-length="1" data-offset="31">发</span><span class="word" data-length="1" data-offset="32">送</span><span class="word" data-length="1" data-offset="33">相</span><span class="word" data-length="1" data-offset="34">同</span><span class="word" data-length="1" data-offset="35">的</span><span class="word" data-length="1" data-offset="36">数</span><span class="word" data-length="1" data-offset="37">据</span><span class="word" data-length="1" data-offset="38">包</span><span class="word" data-length="1" data-offset="39">。</span></dfn> </p><p data-pid="285023667" class="illus expandable H_C" depth="" group-item-num=""> <span class="illus-outer"><img data-seq="199875285" data-orig-src="https://img3.doubanio.com/view/ark_works_pic/common-largeshow/public/199875285.jpg" data-orig-width="566" data-orig-height="310" data-has-micro="false" data-src="https://img3.doubanio.com/view/ark_works_pic/common-large/public/199875285.jpg" width="544" height="297" style="height: 296px; width: 540.439px;" src="./图解HTTP - 〔日〕上野宣 著 于均良 译 人民邮电出版社 _ 豆瓣阅读_files/199875285.jpg" class="loaded"></span>  <span class="legend"><span class="ellipsis-prop"></span><span class="ellipsis-main text-content">  <span></span>  </span><span class="ellipsis-end" style="display: none;">…</span></span> </p></div></div><div id="" class="ft">32</div><div class="markings-layer" style="top: -480px;"><div class="page-marking-container"><div class="note"><div class="note-dot hot-note" style="top: 28px; left: 295.5px;"></div></div></div><div class="page-marking-container"><div class="note"><div class="note-dot hot-note" style="top: 60px; left: 35.5px;"></div></div></div><div class="page-marking-container"><div class="note"><div class="note-dot hot-note" style="top: 92px; left: 99.5px;"></div></div></div><div class="page-marking-container"><div class="selection"></div></div></div><div class="annotation-counter-layer" style="display: block; top: -480px;"><a class="annotation-counter" style="top: 8px; right: -33px;">1</a><a class="annotation-counter" style="top: 72px; right: -33px;">2</a></div></div></div><div class="bookmarks-layout"><mark style="display: none;" class="bookmark"></mark></div><div class="tiny-pagination-layer" page-distance="0"><a href="https://read.douban.com/reader/ebook/12054542/#" class="tiny-page-switcher page-prev-switcher" data-direction="prev" style="height: 75px;"></a><a href="https://read.douban.com/reader/ebook/12054542/#" class="tiny-page-switcher page-next-switcher" data-direction="next" style="height: 40px;"></a></div><div class="chapter-overlay"><div class="chapter-switchers"><div class="chapter-prev-wrapper"><a href="https://read.douban.com/reader/ebook/12054542/#" class="chapter-switcher chapter-prev" data-direction="prev">上一篇</a></div><div class="chapter-next-wrapper"><a href="https://read.douban.com/reader/ebook/12054542/#" class="chapter-switcher chapter-next" data-direction="next">下一篇</a></div></div></div><aside class="aside-controls"><div class="controls-panel"><ul class="controls-list"><li class="controls-item toggle-chapters-toc" data-helper="篇目" title="篇目"><b class="arkicon-chapters-list"></b></li><li class="controls-item toggle-toc" data-helper="目录" title="目录"><b class="arkicon-list"></b></li><li class="controls-item toggle-bookmarks" data-helper="我的书签" title="我的书签"><b class="arkicon-bookmarks"></b></li>  <li class="controls-item toggle-annotations" data-helper="批注和划线" title="批注和划线"><b class="arkicon-annotations"></b></li></ul><div class="panels-container" style="display: none; height: 38.0625em;"><a href="https://read.douban.com/reader/ebook/12054542/#" class="close">×</a><section class="panel-content"><div class="chapters-toc controls-content"></div><div class="toc controls-content"><div class="hd"><h2><span class="pattern-left"></span><span class="title">目录</span><span class="pattern-right"></span></h2></div><div id="contents-list" class="bd"><ul><li class=""><a id="page-1" tabindex="1" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-0"><span class="text">版权信息</span></a><span class="num">1</span></li><li class=""><a id="page-2" tabindex="2" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-0"><span class="text">图解HTTP</span></a><span class="num">2</span></li><li class=""><a id="page-2" tabindex="3" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-1"><span class="text">译者序</span></a><span class="num">2</span></li><li class=""><a id="page-5" tabindex="4" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-1"><span class="text">前言</span></a><span class="num">5</span></li><li class=""><a id="page-7" tabindex="5" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-1"><span class="text">致谢</span></a><span class="num">7</span></li><li class=""><a id="page-9" tabindex="6" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-1"><span class="text">第 1 章　了解 Web 及网络基础</span></a><span class="num">9</span></li><li class=""><a id="page-11" tabindex="7" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-2"><span class="text">1.1　使用 HTTP 协议访问 Web</span></a><span class="num">11</span></li><li class=""><a id="page-13" tabindex="8" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-2"><span class="text">1.2　HTTP 的诞生</span></a><span class="num">13</span></li><li class=""><a id="page-13" tabindex="9" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-0"><span class="text">1.2.1　为知识共享而规划 Web</span></a><span class="num">13</span></li><li class=""><a id="page-15" tabindex="10" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-0"><span class="text">1.2.2　Web 成长时代</span></a><span class="num">15</span></li><li class=""><a id="page-18" tabindex="11" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-0"><span class="text">1.2.3　驻足不前的 HTTP</span></a><span class="num">18</span></li><li class=""><a id="page-19" tabindex="12" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-2"><span class="text">1.3　网络基础 TCP/IP</span></a><span class="num">19</span></li><li class=""><a id="page-20" tabindex="13" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-0"><span class="text">1.3.1　TCP/IP 协议族</span></a><span class="num">20</span></li><li class=""><a id="page-21" tabindex="14" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-0"><span class="text">1.3.2　TCP/IP 的分层管理</span></a><span class="num">21</span></li><li class=""><a id="page-23" tabindex="15" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-0"><span class="text">1.3.3　TCP/IP 通信传输流</span></a><span class="num">23</span></li><li class=""><a id="page-27" tabindex="16" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-2"><span class="text">1.4　与 HTTP 关系密切的协议 : IP、TCP 和 DNS</span></a><span class="num">27</span></li><li class=""><a id="page-27" tabindex="17" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-0"><span class="text">1.4.1　负责传输的 IP 协议</span></a><span class="num">27</span></li><li class=""><a id="page-31" tabindex="18" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-0"><span class="text">1.4.2　确保可靠性的 TCP 协议</span></a><span class="num">31</span></li><li class=""><a id="page-33" tabindex="19" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-2"><span class="text">1.5　负责域名解析的 DNS 服务</span></a><span class="num">33</span></li><li class=""><a id="page-35" tabindex="20" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-2"><span class="text">1.6　各种协议与 HTTP 协议的关系</span></a><span class="num">35</span></li><li class=""><a id="page-37" tabindex="21" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-2"><span class="text">1.7　URI 和 URL</span></a><span class="num">37</span></li><li class=""><a id="page-37" tabindex="22" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-0"><span class="text">1.7.1　统一资源标识符</span></a><span class="num">37</span></li><li class=""><a id="page-40" tabindex="23" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-0"><span class="text">1.7.2　URI 格式</span></a><span class="num">40</span></li><li class=""><a id="page-44" tabindex="24" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-1"><span class="text">第 2 章　简单的 HTTP 协议</span></a><span class="num">44</span></li><li class=""><a id="page-46" tabindex="25" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-2"><span class="text">2.1　HTTP 协议用于客户端和服务器端之间的通信</span></a><span class="num">46</span></li><li class=""><a id="page-47" tabindex="26" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-2"><span class="text">2.2　通过请求和响应的交换达成通信</span></a><span class="num">47</span></li><li class=""><a id="page-52" tabindex="27" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-2"><span class="text">2.3　HTTP 是不保存状态的协议</span></a><span class="num">52</span></li><li class=""><a id="page-54" tabindex="28" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-2"><span class="text">2.4　请求 URI 定位资源</span></a><span class="num">54</span></li><li class=""><a id="page-57" tabindex="29" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-2"><span class="text">2.5　告知服务器意图的 HTTP 方法</span></a><span class="num">57</span></li><li class=""><a id="page-67" tabindex="30" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-2"><span class="text">2.6　使用方法下达命令</span></a><span class="num">67</span></li><li class=""><a id="page-69" tabindex="31" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-2"><span class="text">2.7　持久连接节省通信量</span></a><span class="num">69</span></li><li class=""><a id="page-73" tabindex="32" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-0"><span class="text">2.7.1　持久连接</span></a><span class="num">73</span></li><li class=""><a id="page-75" tabindex="33" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-0"><span class="text">2.7.2　管线化</span></a><span class="num">75</span></li><li class=""><a id="page-76" tabindex="34" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-2"><span class="text">2.8　使用 Cookie 的状态管理</span></a><span class="num">76</span></li><li class=""><a id="page-82" tabindex="35" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-1"><span class="text">第 3 章　HTTP 报文内的 HTTP 信息</span></a><span class="num">82</span></li><li class=""><a id="page-84" tabindex="36" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-2"><span class="text">3.1　HTTP 报文</span></a><span class="num">84</span></li><li class=""><a id="page-85" tabindex="37" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-2"><span class="text">3.2　请求报文及响应报文的结构</span></a><span class="num">85</span></li><li class=""><a id="page-87" tabindex="38" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-2"><span class="text">3.3　编码提升传输速率</span></a><span class="num">87</span></li><li class=""><a id="page-88" tabindex="39" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-0"><span class="text">3.3.1　报文主体和实体主体的差异</span></a><span class="num">88</span></li><li class=""><a id="page-89" tabindex="40" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-0"><span class="text">3.3.2　压缩传输的内容编码</span></a><span class="num">89</span></li><li class=""><a id="page-91" tabindex="41" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-0"><span class="text">3.3.3　分割发送的分块传输编码</span></a><span class="num">91</span></li><li class=""><a id="page-93" tabindex="42" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-2"><span class="text">3.4　发送多种数据的多部分对象集合</span></a><span class="num">93</span></li><li class=""><a id="page-96" tabindex="43" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-2"><span class="text">3.5　获取部分内容的范围请求</span></a><span class="num">96</span></li><li class=""><a id="page-99" tabindex="44" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-2"><span class="text">3.6　内容协商返回最合适的内容</span></a><span class="num">99</span></li><li class=""><a id="page-103" tabindex="45" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-1"><span class="text">第 4 章　返回结果的 HTTP 状态码</span></a><span class="num">103</span></li><li class=""><a id="page-105" tabindex="46" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-2"><span class="text">4.1　状态码告知从服务器端返回的请求结果</span></a><span class="num">105</span></li><li class=""><a id="page-107" tabindex="47" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-2"><span class="text">4.2　2XX 成功</span></a><span class="num">107</span></li><li class=""><a id="page-107" tabindex="48" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-0"><span class="text">4.2.1　200 OK</span></a><span class="num">107</span></li><li class=""><a id="page-108" tabindex="49" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-0"><span class="text">4.2.2　204 No Content</span></a><span class="num">108</span></li><li class=""><a id="page-109" tabindex="50" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-0"><span class="text">4.2.3　206 Partial Content</span></a><span class="num">109</span></li><li class=""><a id="page-109" tabindex="51" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-2"><span class="text">4.3　3XX 重定向</span></a><span class="num">109</span></li><li class=""><a id="page-110" tabindex="52" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-0"><span class="text">4.3.1　301 Moved Permanently</span></a><span class="num">110</span></li><li class=""><a id="page-111" tabindex="53" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-0"><span class="text">4.3.2　302 Found</span></a><span class="num">111</span></li><li class=""><a id="page-112" tabindex="54" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-0"><span class="text">4.3.3　303 See Other</span></a><span class="num">112</span></li><li class=""><a id="page-113" tabindex="55" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-0"><span class="text">4.3.4　304 Not Modified</span></a><span class="num">113</span></li><li class=""><a id="page-114" tabindex="56" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-0"><span class="text">4.3.5　307 Temporary Redirect</span></a><span class="num">114</span></li><li class=""><a id="page-115" tabindex="57" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-2"><span class="text">4.4　4XX 客户端错误</span></a><span class="num">115</span></li><li class=""><a id="page-115" tabindex="58" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-0"><span class="text">4.4.1　400 Bad Request</span></a><span class="num">115</span></li><li class=""><a id="page-116" tabindex="59" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-0"><span class="text">4.4.2　401 Unauthorized</span></a><span class="num">116</span></li><li class=""><a id="page-118" tabindex="60" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-0"><span class="text">4.4.3　403 Forbidden</span></a><span class="num">118</span></li><li class=""><a id="page-120" tabindex="61" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-0"><span class="text">4.4.4　404 Not Found</span></a><span class="num">120</span></li><li class=""><a id="page-120" tabindex="62" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-2"><span class="text">4.5　5XX 服务器错误</span></a><span class="num">120</span></li><li class=""><a id="page-121" tabindex="63" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-0"><span class="text">4.5.1　500 Internal Server Error</span></a><span class="num">121</span></li><li class=""><a id="page-121" tabindex="64" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-0"><span class="text">4.5.2　503 Service Unavailable</span></a><span class="num">121</span></li><li class=""><a id="page-123" tabindex="65" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-1"><span class="text">第 5 章　与 HTTP 协作的 Web 服务器</span></a><span class="num">123</span></li><li class=""><a id="page-125" tabindex="66" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-2"><span class="text">5.1　用单台虚拟主机实现多个域名</span></a><span class="num">125</span></li><li class=""><a id="page-129" tabindex="67" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-2"><span class="text">5.2　通信数据转发程序 ：代理、网关、隧道</span></a><span class="num">129</span></li><li class=""><a id="page-130" tabindex="68" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-0"><span class="text">5.2.1　代理</span></a><span class="num">130</span></li><li class=""><a id="page-133" tabindex="69" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-0"><span class="text">5.2.2　网关</span></a><span class="num">133</span></li><li class=""><a id="page-134" tabindex="70" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-0"><span class="text">5.2.3　隧道</span></a><span class="num">134</span></li><li class=""><a id="page-135" tabindex="71" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-2"><span class="text">5.3　保存资源的缓存</span></a><span class="num">135</span></li><li class=""><a id="page-137" tabindex="72" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-0"><span class="text">5.3.1　缓存的有效期限</span></a><span class="num">137</span></li><li class=""><a id="page-138" tabindex="73" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-0"><span class="text">5.3.2　客户端的缓存</span></a><span class="num">138</span></li><li class=""><a id="page-143" tabindex="74" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-1"><span class="text">第 6 章　HTTP 首部</span></a><span class="num">143</span></li><li class=""><a id="page-145" tabindex="75" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-2"><span class="text">6.1　HTTP 报文首部</span></a><span class="num">145</span></li><li class=""><a id="page-146" tabindex="76" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-0"><span class="text">HTTP 请求报文</span></a><span class="num">146</span></li><li class=""><a id="page-147" tabindex="77" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-0"><span class="text">HTTP 响应报文</span></a><span class="num">147</span></li><li class=""><a id="page-148" tabindex="78" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-2"><span class="text">6.2　HTTP 首部字段</span></a><span class="num">148</span></li><li class=""><a id="page-148" tabindex="79" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-0"><span class="text">6.2.1　HTTP 首部字段传递重要信息</span></a><span class="num">148</span></li><li class=""><a id="page-149" tabindex="80" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-0"><span class="text">6.2.2　HTTP 首部字段结构</span></a><span class="num">149</span></li><li class=""><a id="page-151" tabindex="81" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-0"><span class="text">6.2.3　4 种 HTTP 首部字段类型</span></a><span class="num">151</span></li><li class=""><a id="page-152" tabindex="82" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-0"><span class="text">6.2.4　HTTP/1.1 首部字段一览</span></a><span class="num">152</span></li><li class=""><a id="page-154" tabindex="83" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-0"><span class="text">6.2.5　非 HTTP/1.1 首部字段</span></a><span class="num">154</span></li><li class=""><a id="page-154" tabindex="84" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-0"><span class="text">6.2.6　End-to-end 首部和 Hop-by-hop 首部</span></a><span class="num">154</span></li><li class=""><a id="page-156" tabindex="85" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-2"><span class="text">6.3　HTTP/1.1 通用首部字段</span></a><span class="num">156</span></li><li class=""><a id="page-156" tabindex="86" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-0"><span class="text">6.3.1　Cache-Control</span></a><span class="num">156</span></li><li class=""><a id="page-158" tabindex="87" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-0"><span class="text">表示是否能缓存的指令</span></a><span class="num">158</span></li><li class=""><a id="page-161" tabindex="88" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-0"><span class="text">控制可执行缓存的对象的指令</span></a><span class="num">161</span></li><li class=""><a id="page-162" tabindex="89" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-0"><span class="text">指定缓存期限和认证的指令</span></a><span class="num">162</span></li><li class=""><a id="page-168" tabindex="90" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-0"><span class="text">Cache-Control 扩展</span></a><span class="num">168</span></li><li class=""><a id="page-169" tabindex="91" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-0"><span class="text">6.3.2　Connection</span></a><span class="num">169</span></li><li class=""><a id="page-173" tabindex="92" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-0"><span class="text">6.3.3　Date</span></a><span class="num">173</span></li><li class=""><a id="page-174" tabindex="93" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-0"><span class="text">6.3.4　Pragma</span></a><span class="num">174</span></li><li class=""><a id="page-176" tabindex="94" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-0"><span class="text">6.3.5　Trailer</span></a><span class="num">176</span></li><li class=""><a id="page-177" tabindex="95" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-0"><span class="text">6.3.6　Transfer-Encoding</span></a><span class="num">177</span></li><li class=""><a id="page-179" tabindex="96" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-0"><span class="text">6.3.7　Upgrade</span></a><span class="num">179</span></li><li class=""><a id="page-181" tabindex="97" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-0"><span class="text">6.3.8　Via</span></a><span class="num">181</span></li><li class=""><a id="page-183" tabindex="98" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-0"><span class="text">6.3.9　Warning</span></a><span class="num">183</span></li><li class=""><a id="page-184" tabindex="99" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-2"><span class="text">6.4　请求首部字段</span></a><span class="num">184</span></li><li class=""><a id="page-185" tabindex="100" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-0"><span class="text">6.4.1　Accept</span></a><span class="num">185</span></li><li class=""><a id="page-188" tabindex="101" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-0"><span class="text">6.4.2　Accept-Charset</span></a><span class="num">188</span></li><li class=""><a id="page-189" tabindex="102" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-0"><span class="text">6.4.3　Accept-Encoding</span></a><span class="num">189</span></li><li class=""><a id="page-191" tabindex="103" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-0"><span class="text">6.4.4　Accept-Language</span></a><span class="num">191</span></li><li class=""><a id="page-193" tabindex="104" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-0"><span class="text">6.4.5　Authorization</span></a><span class="num">193</span></li><li class=""><a id="page-195" tabindex="105" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-0"><span class="text">6.4.6　Expect</span></a><span class="num">195</span></li><li class=""><a id="page-197" tabindex="106" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-0"><span class="text">6.4.7　From</span></a><span class="num">197</span></li><li class=""><a id="page-198" tabindex="107" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-0"><span class="text">6.4.8　Host</span></a><span class="num">198</span></li><li class=""><a id="page-200" tabindex="108" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-0"><span class="text">6.4.9　If-Match</span></a><span class="num">200</span></li><li class=""><a id="page-202" tabindex="109" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-0"><span class="text">6.4.10　If-Modified-Since</span></a><span class="num">202</span></li><li class=""><a id="page-204" tabindex="110" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-0"><span class="text">6.4.11　If-None-Match</span></a><span class="num">204</span></li><li class=""><a id="page-206" tabindex="111" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-0"><span class="text">6.4.12　If-Range</span></a><span class="num">206</span></li><li class=""><a id="page-209" tabindex="112" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-0"><span class="text">6.4.13　If-Unmodified-Since</span></a><span class="num">209</span></li><li class=""><a id="page-210" tabindex="113" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-0"><span class="text">6.4.14　Max-Forwards</span></a><span class="num">210</span></li><li class=""><a id="page-212" tabindex="114" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-0"><span class="text">6.4.15　Proxy-Authorization</span></a><span class="num">212</span></li><li class=""><a id="page-213" tabindex="115" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-0"><span class="text">6.4.16　Range</span></a><span class="num">213</span></li><li class=""><a id="page-214" tabindex="116" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-0"><span class="text">6.4.17　Referer</span></a><span class="num">214</span></li><li class=""><a id="page-215" tabindex="117" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-0"><span class="text">6.4.18　TE</span></a><span class="num">215</span></li><li class=""><a id="page-216" tabindex="118" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-0"><span class="text">6.4.189　User-Agent</span></a><span class="num">216</span></li><li class=""><a id="page-217" tabindex="119" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-2"><span class="text">6.5　响应首部字段</span></a><span class="num">217</span></li><li class=""><a id="page-218" tabindex="120" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-0"><span class="text">6.5.1　Accept-Ranges</span></a><span class="num">218</span></li><li class=""><a id="page-220" tabindex="121" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-0"><span class="text">6.5.2　Age</span></a><span class="num">220</span></li><li class=""><a id="page-221" tabindex="122" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-0"><span class="text">6.5.3　ETag</span></a><span class="num">221</span></li><li class=""><a id="page-224" tabindex="123" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-0"><span class="text">强 ETag 值和弱 Tag 值</span></a><span class="num">224</span></li><li class=""><a id="page-225" tabindex="124" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-0"><span class="text">6.5.4　Location</span></a><span class="num">225</span></li><li class=""><a id="page-227" tabindex="125" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-0"><span class="text">6.5.5　Proxy-Authenticate</span></a><span class="num">227</span></li><li class=""><a id="page-228" tabindex="126" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-0"><span class="text">6.5.6　Retry-After</span></a><span class="num">228</span></li><li class=""><a id="page-229" tabindex="127" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-0"><span class="text">6.5.7　Server</span></a><span class="num">229</span></li><li class=""><a id="page-230" tabindex="128" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-0"><span class="text">6.5.8　Vary</span></a><span class="num">230</span></li><li class=""><a id="page-232" tabindex="129" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-0"><span class="text">6.5.9　WWW-Authenticate</span></a><span class="num">232</span></li><li class=""><a id="page-233" tabindex="130" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-2"><span class="text">6.6　实体首部字段</span></a><span class="num">233</span></li><li class=""><a id="page-233" tabindex="131" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-0"><span class="text">6.6.1　Allow</span></a><span class="num">233</span></li><li class=""><a id="page-235" tabindex="132" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-0"><span class="text">6.6.2　Content-Encoding</span></a><span class="num">235</span></li><li class=""><a id="page-236" tabindex="133" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-0"><span class="text">6.6.3　Content-Language</span></a><span class="num">236</span></li><li class=""><a id="page-238" tabindex="134" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-0"><span class="text">6.6.4　Content-Length</span></a><span class="num">238</span></li><li class=""><a id="page-239" tabindex="135" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-0"><span class="text">6.6.5　Content-Location</span></a><span class="num">239</span></li><li class=""><a id="page-240" tabindex="136" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-0"><span class="text">6.6.6　Content-MD5</span></a><span class="num">240</span></li><li class=""><a id="page-241" tabindex="137" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-0"><span class="text">6.6.7　Content-Range</span></a><span class="num">241</span></li><li class=""><a id="page-243" tabindex="138" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-0"><span class="text">6.6.8　Content-Type</span></a><span class="num">243</span></li><li class=""><a id="page-243" tabindex="139" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-0"><span class="text">6.6.9　Expires</span></a><span class="num">243</span></li><li class=""><a id="page-245" tabindex="140" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-0"><span class="text">6.6.10　Last-Modified</span></a><span class="num">245</span></li><li class=""><a id="page-246" tabindex="141" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-2"><span class="text">6.7　为 Cookie 服务的首部字段</span></a><span class="num">246</span></li><li class=""><a id="page-249" tabindex="142" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-0"><span class="text">6.7.1　Set-Cookie</span></a><span class="num">249</span></li><li class=""><a id="page-252" tabindex="143" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-0"><span class="text">6.7.2　Cookie</span></a><span class="num">252</span></li><li class=""><a id="page-253" tabindex="144" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-2"><span class="text">6.8　其他首部字段</span></a><span class="num">253</span></li><li class=""><a id="page-253" tabindex="145" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-0"><span class="text">6.8.1　X-Frame-Options</span></a><span class="num">253</span></li><li class=""><a id="page-255" tabindex="146" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-0"><span class="text">6.8.2　X-XSS-Protection</span></a><span class="num">255</span></li><li class=""><a id="page-255" tabindex="147" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-0"><span class="text">6.8.3　DNT</span></a><span class="num">255</span></li><li class=""><a id="page-257" tabindex="148" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-0"><span class="text">6.8.4　P3P</span></a><span class="num">257</span></li><li class=""><a id="page-259" tabindex="149" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-1"><span class="text">第 7 章　确保 Web 安全的 HTTPS</span></a><span class="num">259</span></li><li class=""><a id="page-261" tabindex="150" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-2"><span class="text">7.1　HTTP 的缺点</span></a><span class="num">261</span></li><li class=""><a id="page-262" tabindex="151" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-0"><span class="text">7.1.1　通信使用明文可能会被窃听</span></a><span class="num">262</span></li><li class=""><a id="page-268" tabindex="152" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-0"><span class="text">7.1.2　不验证通信方的身份就可能遭遇伪装</span></a><span class="num">268</span></li><li class=""><a id="page-272" tabindex="153" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-0"><span class="text">7.1.3　无法证明报文完整性，可能已遭篡改</span></a><span class="num">272</span></li><li class=""><a id="page-276" tabindex="154" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-2"><span class="text">7.2　HTTP+ 加密 + 认证 + 完整性保护 =HTTPS</span></a><span class="num">276</span></li><li class=""><a id="page-276" tabindex="155" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-0"><span class="text">7.2.1　HTTP 加上加密处理和认证以及完整性保护后即是 HTTPS</span></a><span class="num">276</span></li><li class=""><a id="page-280" tabindex="156" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-0"><span class="text">7.2.2　HTTPS 是身披 SSL 外壳的 HTTP</span></a><span class="num">280</span></li><li class=""><a id="page-282" tabindex="157" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-0"><span class="text">7.2.3　相互交换密钥的公开密钥加密技术</span></a><span class="num">282</span></li><li class=""><a id="page-289" tabindex="158" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-0"><span class="text">7.2.4　证明公开密钥正确性的证书</span></a><span class="num">289</span></li><li class=""><a id="page-297" tabindex="159" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-0"><span class="text">7.2.5　HTTPS 的安全通信机制</span></a><span class="num">297</span></li><li class=""><a id="page-307" tabindex="160" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-1"><span class="text">第 8 章　确认访问用户身份的认证</span></a><span class="num">307</span></li><li class=""><a id="page-309" tabindex="161" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-2"><span class="text">8.1　何为认证</span></a><span class="num">309</span></li><li class=""><a id="page-311" tabindex="162" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-2"><span class="text">8.2　BASIC 认证</span></a><span class="num">311</span></li><li class=""><a id="page-312" tabindex="163" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-0"><span class="text">BASIC 认证的认证步骤</span></a><span class="num">312</span></li><li class=""><a id="page-315" tabindex="164" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-2"><span class="text">8.3　DIGEST 认证</span></a><span class="num">315</span></li><li class=""><a id="page-316" tabindex="165" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-0"><span class="text">DIGEST 认证的认证步骤</span></a><span class="num">316</span></li><li class=""><a id="page-320" tabindex="166" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-2"><span class="text">8.4　SSL 客户端认证</span></a><span class="num">320</span></li><li class=""><a id="page-320" tabindex="167" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-0"><span class="text">8.4.1　SSL 客户端认证的认证步骤</span></a><span class="num">320</span></li><li class=""><a id="page-322" tabindex="168" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-0"><span class="text">8.4.2　SSL 客户端认证采用双因素认证</span></a><span class="num">322</span></li><li class=""><a id="page-323" tabindex="169" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-0"><span class="text">8.4.3　SSL 客户端认证必要的费用</span></a><span class="num">323</span></li><li class=""><a id="page-323" tabindex="170" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-2"><span class="text">8.5　基于表单认证</span></a><span class="num">323</span></li><li class=""><a id="page-325" tabindex="171" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-0"><span class="text">8.5.1　认证多半为基于表单认证</span></a><span class="num">325</span></li><li class=""><a id="page-326" tabindex="172" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-0"><span class="text">8.5.2　Session 管理及 Cookie 应用</span></a><span class="num">326</span></li><li class=""><a id="page-330" tabindex="173" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-1"><span class="text">第 9 章　基于 HTTP 的功能追加协议</span></a><span class="num">330</span></li><li class=""><a id="page-332" tabindex="174" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-2"><span class="text">9.1　基于 HTTP 的协议</span></a><span class="num">332</span></li><li class=""><a id="page-332" tabindex="175" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-2"><span class="text">9.2　消除 HTTP 瓶颈的 SPDY</span></a><span class="num">332</span></li><li class=""><a id="page-333" tabindex="176" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-0"><span class="text">9.2.1　HTTP 的瓶颈</span></a><span class="num">333</span></li><li class=""><a id="page-340" tabindex="177" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-0"><span class="text">9.2.2　SPDY 的设计与功能</span></a><span class="num">340</span></li><li class=""><a id="page-343" tabindex="178" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-0"><span class="text">9.2.3　SPDY 消除 Web 瓶颈了吗</span></a><span class="num">343</span></li><li class=""><a id="page-344" tabindex="179" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-2"><span class="text">9.3　使用浏览器进行全双工通信的 WebSocket</span></a><span class="num">344</span></li><li class=""><a id="page-344" tabindex="180" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-0"><span class="text">9.3.1　WebSocket 的设计与功能</span></a><span class="num">344</span></li><li class=""><a id="page-345" tabindex="181" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-0"><span class="text">9.3.2　WebSocket 协议</span></a><span class="num">345</span></li><li class=""><a id="page-349" tabindex="182" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-2"><span class="text">9.4　期盼已久的 HTTP/2.0</span></a><span class="num">349</span></li><li class=""><a id="page-351" tabindex="183" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-2"><span class="text">9.5　Web 服务器管理文件的 WebDAV</span></a><span class="num">351</span></li><li class=""><a id="page-353" tabindex="184" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-0"><span class="text">9.5.1　扩展 HTTP/1.1 的 WebDAV</span></a><span class="num">353</span></li><li class=""><a id="page-354" tabindex="185" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-0"><span class="text">9.5.2　WebDAV 内新增的方法及状态码</span></a><span class="num">354</span></li><li class=""><a id="page-359" tabindex="186" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-1"><span class="text">第 10 章　构建 Web 内容的技术</span></a><span class="num">359</span></li><li class=""><a id="page-361" tabindex="187" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-2"><span class="text">10.1　HTML</span></a><span class="num">361</span></li><li class=""><a id="page-361" tabindex="188" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-0"><span class="text">10.1.1　Web 页面几乎全由 HTML 构建</span></a><span class="num">361</span></li><li class=""><a id="page-363" tabindex="189" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-0"><span class="text">10.1.2　HTML 的版本</span></a><span class="num">363</span></li><li class=""><a id="page-364" tabindex="190" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-0"><span class="text">10.1.3　设计应用 CSS</span></a><span class="num">364</span></li><li class=""><a id="page-365" tabindex="191" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-2"><span class="text">10.2　动态 HTML</span></a><span class="num">365</span></li><li class=""><a id="page-365" tabindex="192" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-0"><span class="text">10.2.1　让 Web 页面动起来的动态 HTML</span></a><span class="num">365</span></li><li class=""><a id="page-366" tabindex="193" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-0"><span class="text">10.2.2　更易控制 HTML 的 DOM</span></a><span class="num">366</span></li><li class=""><a id="page-367" tabindex="194" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-2"><span class="text">10.3　Web 应用</span></a><span class="num">367</span></li><li class=""><a id="page-367" tabindex="195" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-0"><span class="text">10.3.1　通过 Web 提供功能的 Web 应用</span></a><span class="num">367</span></li><li class=""><a id="page-370" tabindex="196" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-0"><span class="text">10.3.2　与 Web 服务器及程序协作的 CGI</span></a><span class="num">370</span></li><li class=""><a id="page-371" tabindex="197" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-0"><span class="text">10.3.3　因 Java 而普及的 Servlet</span></a><span class="num">371</span></li><li class=""><a id="page-373" tabindex="198" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-2"><span class="text">10.4　数据发布的格式及语言</span></a><span class="num">373</span></li><li class=""><a id="page-373" tabindex="199" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-0"><span class="text">10.4.1　可扩展标记语言</span></a><span class="num">373</span></li><li class=""><a id="page-375" tabindex="200" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-0"><span class="text">10.4.2　发布更新信息的 RSS/Atom</span></a><span class="num">375</span></li><li class=""><a id="page-378" tabindex="201" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-0"><span class="text">10.4.3　JavaScript 衍生的轻量级易用 JSON</span></a><span class="num">378</span></li><li class=""><a id="page-379" tabindex="202" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-1"><span class="text">第 11 章　Web 的攻击技术</span></a><span class="num">379</span></li><li class=""><a id="page-381" tabindex="203" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-2"><span class="text">11.1　针对 Web 的攻击技术</span></a><span class="num">381</span></li><li class=""><a id="page-382" tabindex="204" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-0"><span class="text">11.1.1　HTTP 不具备必要的安全功能</span></a><span class="num">382</span></li><li class=""><a id="page-383" tabindex="205" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-0"><span class="text">11.1.2　在客户端即可篡改请求</span></a><span class="num">383</span></li><li class=""><a id="page-386" tabindex="206" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-0"><span class="text">11.1.3　针对 Web 应用的攻击模式</span></a><span class="num">386</span></li><li class=""><a id="page-392" tabindex="207" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-2"><span class="text">11.2　因输出值转义不完全引发的安全漏洞</span></a><span class="num">392</span></li><li class=""><a id="page-393" tabindex="208" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-0"><span class="text">11.2.1　跨站脚本攻击</span></a><span class="num">393</span></li><li class=""><a id="page-401" tabindex="209" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-0"><span class="text">11.2.2　SQL 注入攻击</span></a><span class="num">401</span></li><li class=""><a id="page-412" tabindex="210" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-0"><span class="text">11.2.3　OS 命令注入攻击</span></a><span class="num">412</span></li><li class=""><a id="page-415" tabindex="211" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-0"><span class="text">11.2.4　HTTP 首部注入攻击</span></a><span class="num">415</span></li><li class=""><a id="page-420" tabindex="212" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-0"><span class="text">11.2.5　邮件首部注入攻击</span></a><span class="num">420</span></li><li class=""><a id="page-422" tabindex="213" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-0"><span class="text">11.2.6　目录遍历攻击</span></a><span class="num">422</span></li><li class=""><a id="page-424" tabindex="214" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-0"><span class="text">11.2.7　远程文件包含漏洞</span></a><span class="num">424</span></li><li class=""><a id="page-428" tabindex="215" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-2"><span class="text">11.3　因设置或设计上的缺陷引发的安全漏洞</span></a><span class="num">428</span></li><li class=""><a id="page-428" tabindex="216" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-0"><span class="text">11.3.1　强制浏览</span></a><span class="num">428</span></li><li class=""><a id="page-431" tabindex="217" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-0"><span class="text">11.3.2　不正确的错误消息处理</span></a><span class="num">431</span></li><li class=""><a id="page-435" tabindex="218" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-0"><span class="text">11.3.3　开放重定向</span></a><span class="num">435</span></li><li class=""><a id="page-436" tabindex="219" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-2"><span class="text">11.4　因会话管理疏忽引发的安全漏洞</span></a><span class="num">436</span></li><li class=""><a id="page-436" tabindex="220" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-0"><span class="text">11.4.1　会话劫持</span></a><span class="num">436</span></li><li class=""><a id="page-440" tabindex="221" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-0"><span class="text">11.4.2　会话固定攻击</span></a><span class="num">440</span></li><li class=""><a id="page-443" tabindex="222" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-0"><span class="text">11.4.3　跨站点请求伪造</span></a><span class="num">443</span></li><li class=""><a id="page-445" tabindex="223" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-2"><span class="text">11.5　其他安全漏洞</span></a><span class="num">445</span></li><li class=""><a id="page-445" tabindex="224" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-0"><span class="text">11.5.1　密码破解</span></a><span class="num">445</span></li><li class=""><a id="page-454" tabindex="225" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-0"><span class="text">11.5.2　点击劫持</span></a><span class="num">454</span></li><li class=""><a id="page-456" tabindex="226" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-0"><span class="text">11.5.3　DoS 攻击</span></a><span class="num">456</span></li><li class=""><a id="page-459" tabindex="227" data-pid="" href="https://read.douban.com/reader/ebook/12054542/#" class="toc-item level-0"><span class="text">11.5.4　后门程序</span></a><span class="num">459</span></li></ul></div><div class="ft"><div class="close"></div></div></div><div class="bookmarks controls-content"><div class="panel-hd"><h2>我的书签</h2></div><div class="panel-bd"><p class="panel-tip">你还没有添加书签哦!</p></div></div><div class="annotations controls-content"></div></section></div><div class="shortcut-tips" style="display: none;"><div class="hd"><a class="bn-flat close-tips" href="https://read.douban.com/reader/ebook/12054542/#">关闭提示</a></div><div class="bd"><div class="section-annotation"><h3>划线、批注操作</h3><div class="section-bd"><img src="./图解HTTP - 〔日〕上野宣 著 于均良 译 人民邮电出版社 _ 豆瓣阅读_files/snapshot-annotation.png" width="324" height="138"></div></div><div class="section-shortcut"><h3>快捷键</h3><ul class="section-bd"><li class="item"><span class="key-fullscreen"></span><span class="key-fn">全屏阅读</span></li><li class="item"><span class="key-turn-page"></span><span class="key-fn">翻页</span></li><li class="item"><span class="key-scroll-row"></span><span class="key-fn">整行上下移动</span></li></ul></div></div></div></div><div class="pagination"><div data-direction="prev" data-helper="前翻" class="turn-prev page-prev"></div><div data-direction="next" data-helper="后翻" class="turn-next page-next"></div><div class="page-portal" style="display: block;"><div class="page-info"><span class="curr-num">31</span><span class="slash">/</span><span class="total-num">460</span><span class="progress-num">6%</span><a href="https://read.douban.com/reader/ebook/12054542/#" class="page-form-switch"><b class="switch-arrow"></b></a></div><div class="page-jump"><form class="page-form"><input type="text" value="5" class="page-input"><button type="submit" class="page-submit"></button></form><span class="page-custom-label">当前页</span></div></div><div class="page-subsequent active"><span class="not-last-page">本章剩余<span class="subsequent-num">1</span>页</span><span class="when-last-page">本章结束</span></div></div></aside></div><script id="tmpl-panels-container" type="text/template"><a href="#" class="close">&times;</a><section class="panel-content"><div class="chapters-toc controls-content"></div><div class="toc controls-content"></div><div class="bookmarks controls-content"></div><div class="annotations controls-content"></div></section></script><script id="tmpl-mobile-top-panel" type="text/template"><div class="bannerline"><a class="label" href="{{- url}}"><span class="arkicon-angle-left"></span> {{- label}} </a><div class="btn-placeholder"></div></div></script><script id="tmpl-mobile-controls-panel" type="text/template"><ul class="controls-list"><li class="controls-item toggle-chapters-toc"><b class="arkicon-chapters-list"></b><label>篇目</label></li><li class="controls-item toggle-toc"><b class="arkicon-list"></b><label>目录</label></li><li class="controls-item controls-ark-salon"><a href="#"><b class="arkicon-salon"></b><label>讨论</label></a></li><li class="controls-app"><span class="goto-app">用客户端打开</span></li></ul><div class="panels-container"></div></script><script id="tmpl-controls-panel" type="text/template"><ul class="controls-list"><li class="controls-item toggle-chapters-toc" data-helper="篇目" title="篇目"><b class="arkicon-chapters-list"></b></li><li class="controls-item toggle-toc" data-helper="目录" title="目录"><b class="arkicon-list"></b></li><li class="controls-item toggle-bookmarks" data-helper="我的书签" title="我的书签"><b class="arkicon-bookmarks"></b></li> {{ var toggleAnnotationsLabel = isGallery ? '我的批注' : '批注和划线'}} <li class="controls-item toggle-annotations" data-helper="{{- toggleAnnotationsLabel}}" title="{{- toggleAnnotationsLabel}}"><b class="arkicon-annotations"></b></li></ul><div class="panels-container"></div></script><script id="tmpl-annotation-guide-dialog" type="text/template"><div class="hd"><a href="#" class="btn-close btn btn-green">知道了</a><h3 class="label">打开批注开关后:</h3></div><div class="bd"><img src="https://img3.doubanio.com/f/ark/921de9ebc38bc80d4b76417ba4c1b27f7626e24f/pics/reader/snapshot-social-annotation.png" width="679" height="230"></div></script><script id="tmpl-shortcut-tips" type="text/template"><div class="shortcut-tips"><div class="hd"><a class="bn-flat close-tips" href="#">关闭提示</a></div><div class="bd"><div class="section-annotation"><h3>划线、批注操作</h3><div class="section-bd"><img src="https://img3.doubanio.com/f/ark/88cf0d7d85ce45f856910945d597c0063495768d/pics/reader/snapshot-annotation.png" width="324" height="138"></div></div><div class="section-shortcut"><h3>快捷键</h3><ul class="section-bd"><li class="item"><span class="key-fullscreen"></span><span class="key-fn">全屏阅读</span></li><li class="item"><span class="key-turn-page"></span><span class="key-fn">翻页</span></li><li class="item"><span class="key-scroll-row"></span><span class="key-fn">整行上下移动</span></li></ul></div></div></div></script><script id="tmpl-panel" type="text/template"><ul class="panel"> {{ if (!isAnonymous) { }} <li id="fn-back" class="sep" data-helper="阅读列表"><a href="/reader/ebooks/" class="arkicon-back" title="阅读列表"></a></li> {{ } }} <li id="fn-layout" class="sep" data-helper="阅读模式"><a href="#" title="阅读模式" class="arkicon-layout {{ if (layout === 'vertical') { }}vertical{{ } }}"></a></li><li id="fn-salon" data-helper="评论" {{ if (!canRate) { }} class="sep" {{ } }}><a href="{{- reviewsUrl}}" title="评论" target="_blank" class="arkicon-salon"></a></li> {{ if (canRate) { }} <li id="fn-rating" data-helper="评分"><a href="#" title="评分" target="_blank" class="arkicon-star"></a></li> {{ } }} {{ if (!isAnonymous) { }} <li id="fn-share" class="sep page-sharing" data-title="分享"><a href="#" title="分享" class="arkicon-share"></a></li> {{ } }} <li id="fn-question" data-helper="提问"><a href="{{- questionsUrl }}" title="提问" target="_blank" class="arkicon-question"></a></li><li id="fn-comment" data-helper="讨论"><a href="{{- reviewsUrl }}" title="讨论" target="_blank" class="arkicon-salon"></a></li><li id="fn-favor" data-helper="喜欢" class="sep"><a href="#" title="喜欢" target="_blank" class="arkicon-favor"></a></li> {{ if (!isGallery) { }} <li id="fn-annotation-filter" data-helper="切换批注可见模式" class="sep"><a href="#" title="切换批注可见模式" target="_blank" class="icon-annotations-filter"></a></li><li id="fn-search" data-helper="搜索" class="sep"><a href="#" title="搜索" target="_blank" class="icon-search"></a></li> {{ } }} <li id="fn-helper"><a href="#" title="指南">指南</a></li></ul></script><script id="tmpl-annotations-filter-list" type="text/template"><div class="hd filter-header"><label for="show-others"><span class="switch-button"><input id="show-others" type="checkbox" name="showOthers" {{- showOthers ? 'checked' : '' }} ><i></i></span>显示他人批注</label></div> {{ if (!isAnonymous) { }} <ul class="bd filter-list {{- showOthers ? 'show-others' : '' }}"><li class="filter-item"><label for="filter-follow-only"><span class="radio-button"><input id="filter-follow-only" type="radio" name="othersFilter" value="followOnly" {{- othersFilter === 'followOnly' ? 'checked' : '' }} ><i></i></span>只看友邻的</label></li><li class="filter-item"><label for="filter-others">友邻和热门的<span class="radio-button"><input id="filter-others" type="radio" name="othersFilter" value="all" {{- othersFilter === 'all' ? 'checked' : '' }} ><i></i></span></label></li></ul> {{ } }}
</script><script id="tmpl-tooltip" type="text/template"><div class="tooltip"><div class="bubble-content"></div></div></script><script id="tmpl-annotation-guide-bubble" type="text/template"><div class="hd"><h3>批注的新功能上线啦<i class="icon-new"></i></h3><a href="#" class="lnk-close">&times;</a></div><div class="bd"><p>打开这个批注开关后，你就可以看到你的友邻和他人对这本书写的批注。</p><a href="#" class="btn-more-info btn btn-green" >知道了<i class="arrow-right"></i></a></div></script><script id="tmpl-empty-page" type="text/template"><div class="page page-empty"><div class="loading-hint">{{= hint }}</div><div class="content"></div></div></script><script id="tmpl-mathplayer-hint" type="text/template"><div class="mathplayer-hint"><p> 本作品包含数学公式，为确保内容正常显示，请先安装 MathPlayer。<br>安装完成后需重启浏览器，并允许浏览器运行该程序。</p><a href="http://www.dessci.com/en/dl/MathPlayer2.2setup.exe" class="btn-large">点击下载</a></div></script><script id="tmpl-article" type="text/template"> {{ _.each(posts, function(art) { }} <div class="story"><div class="info"><h1>{{- art.title }}</h1> {{ if (art.subtitle) { }} <h2>{{- art.subtitle }}</h2> {{ } }} <div class="author"><span class="orig-author"> {{= art.orig_author }} </span> {{ if (art.translator) { }} <span class="translator"> {{= art.translator }}&nbsp;译 </span> {{ } }} </div></div><div class="content"> {{ _.map(art.contents, function(p) { }} <p data-pid="{{= p.id }}" class="{{= p.type }} {{ if (p.type === 'illus') { if (p.expandable) { print('expandable ') } print(p.data.dimension + '_' + p.data.layout) } else if (p.type === 'headline' && p.data.level) { print('headline-level-' + p.data.level + ' '); } else if (p.data && p.data.format) { if (p.data.format.p_indent) { print('indentall ') } if (p.data.format.t_indent) { print('indent ') } if (p.data.format.p_align) { print(p.data.format.p_align + ' ') } else if (p.data.format.p_center) { print('center ') } if (p.data.format.p_bold) { print('bold ') } if (p.data.format.p_quote) { print('quote ') } } }}" depth="{{= p.data && p.data.depth }}" group-item-index="{{= p.data && p.data.index }}" > {{ if (p.type === 'illus') { }} {{ var size = figureUtil.getSize(p.data.dimension, p.data.size); }} <span class="illus-outer"><img data-seq="{{= p.data.seq }}" data-orig-src="{{= p.data.size.orig.src }}" data-orig-width="{{= p.data.size.orig.width }}" data-orig-height="{{= p.data.size.orig.height }}" data-has-micro="{{= Boolean(p.data.size.micro)}}" data-src="{{= size.src }}" width="{{= size.width }}" height="{{= size.height }}" /></span> {{ if (p.data.legend || p.data.full_legend) { }} <span class="legend"><span class="ellipsis-prop"></span><span class="ellipsis-main text-content"> {{ _.each(p.data.legend , function(legendPara){ }} <span>{{= legendPara.data.text }}</span> {{ }) }} </span><span class="ellipsis-end">…</span></span> {{ } }} {{ } else if (p.type === 'pagebreak') { }} {{ } else { }} {{ if (p.type === 'code') { }} <code data-language="{{= p.data.language}}" class="{{= splitCode.doSplit ? 'line-split' : ''}}" >{{= splitCode(p.data.text) }} </code> {{ } else { }} <dfn>{{= p.data.text }}</dfn> {{ } }} {{ } }} </p> {{ }); }} </div></div> {{ }); }}
</script><script id="tmpl-paragraph" type="text/template"><p data-pid="{{= p.pid }}" {{ if (p.klass) { }}class="{{= p.klass }}"{{ } }} {{ if (p.offset || p.height) { }} style="{{ if (p.offset>0) { }}margin-top:-{{= p.offset }}em;{{ } }} {{ if (p.height) { }}height:{{= p.height }}em{{ } }}" {{ if (p.offset && p.offset > 0) { print('data-offset="' + p.offset + '"')} }} {{ } }} depth="{{= p.depth !== void 0 ? p.depth : '' }}" group-item-num="{{= p.groupItemIndex !== void 0 ? p.groupItemIndex + 1 : '' }}" > {{ print(getParaContent(p)) }} </p></script><script id="tmpl-tips" type="text/template"><div class="tips-outer footnote-tips"><div class="footnote"></div></div></script><script id="tmpl-illus" type="text/template"><div class="orig-illus"><img src="{{= src }}" width="{{= origWidth}}" height="{{= origHeight}}"></div> {{ if (legend) { }} <div class="full-legend"> {{= legend }} </div> {{ } }}
</script><script id="tmpl-page" type="text/template">
{{ if (_.isObject(page.note)) { }}
<div class="words-wrapper"><div class="words-wrapper-cell"><div class="words-main"><div class="words-hd">给 {{- page.note.recipient }}</div><div class="words-bd">{{- page.note.words }}</div><div class="words-ft">{{- page.note.sender }}<br/>{{- page.note.date }}</div></div></div></div>{{ } else if (page.isTitlePage) { }}
<div class="title-page-wrapper">{{ var titlePage = page.titlePageInfo; }}<h1 class="title">{{- titlePage.title }}</h1><h2 class="subtitle">{{- titlePage.subtitle }}</h2><div class="info-list"><div class="author">作者：{{- titlePage.author }}</div>{{ if (titlePage.translator) { }}<div class="translator">译者：{{- titlePage.translator }}</div>{{ } }}{{ if (titlePage.isOriginWorks) { }}<div class="publisher">出版方：豆瓣阅读</div>{{ } else if (titlePage.publisher || titlePage.provider) { }}<div class="publisher">出版方：{{- titlePage.publisher || titlePage.provider }}</div>{{ } }}</div><div class="copyright">本作品由{{- titlePage.provider || titlePage.author }}授权北京豆网科技有限公司全球范围内电子版制作与发行。<br/>© 版权所有，侵权必究。</div></div>{{ } else { }}
<div class="hd"><h3><a href="{{- url }}" target="_blank">{{- pageTitle }}</a></h3><div class="header-extra"></div></div><div class="bd">{{ if (page.info) { }}<div style="height:{{= page.info.height }}em" class="info"><h1>{{- page.info.title }}</h1>{{ if (page.info.subtitle) { }}<h2>{{- page.info.subtitle }}</h2>{{ } }}<div class="author"><span class="orig-author">{{= page.info.orig_author }}</span>{{ if (page.info.translator) { }}<span class="translator">{{= page.info.translator }}</span>{{ } }}</div></div>{{ } }}<div style="{{ if (page.content) { print('height:' + page.content.height + 'em') } }}" class="content">{{ _.each(page.paragraphs, function (p) { print(getParaHtml(p)) }) }}</div></div><div id="{{ if (page.pagination <= 2) { print('page-captain') } }}" class="ft">{{= readPageNum }}</div>{{ } }}</script><script id="tmpl-gift-inner" type="text/template"><div class="gift-overlay"><a href="javascript:;" class="close">×</a><div class="words-wrapper"><div class="words-wrapper-cell"><div class="words-main"><div class="words-hd">给 {{- page.note.recipient }}</div><div class="words-bd">{{- page.note.words }}</div><div class="words-ft">{{- page.note.sender }}<br/>{{- page.note.date }}</div></div></div></div></div></script><script id="tmpl-sample-chapter-page" type="text/template"><div class="hd">{{ if (page.title) { }}<h3>{{- page.title }}</h3>{{ } }}<div class="header-extra"></div></div><div class="bd sample-chapter-page"><div class="chapter-number">第 {{- chapterNum }} 篇</div><h1>{{- chapter.title }}</h1><div class="meta"><span class="timestamp">{{- sec2date(chapter.onsale_time) }} 发表</span><div class="social-info">{{ if (column.subscriber_num) { }}<span class="subscription-count">{{- column.subscriber_num}} 人订阅</span>{{ } }}{{ if (chapter.comment_num) { }}<div class="comment-count"><a href="/column/{{- column.alias_id}}/chapter/{{- chapter.id}}/comments" target="_blank">{{- chapter.comment_num }} 讨论</a></div>{{ } }}</div></div><p class="abstract">{{- truncate(chapter.abstract, 120) }}</p><div class="chapter-purchase-note">本章节需付费阅读</div><section class="purchase-section"></section><a href="/column/{{- column.alias_id}}/chapter/{{- chapter.id}}" target="_blank" class="more">去商店了解更多</a></div></script><script id="tmpl-rating-form" type="text/template"><form class="form-vertical rating-form"><fieldset><div class="field-group"><div class="fields"><label class="my-rating">我的评分</label><div class="rating"></div></div></div><div id="field-edit" class="field-group"></div><div class="form-actions"><div class="sharing-options-wrapper"></div><div class="form-btns"></div></div></fieldset></form></script><script id="tmpl-rating" type="text/template"><span href="#" data-stars="{{= unfinishedRating || rating }}" class="stars-context stars-{{= unfinishedRating || rating }}"><input type="radio" name="rating" class="star-region" data-star="1" value="1"><input type="radio" name="rating" class="star-region" data-star="2" value="2"><input type="radio" name="rating" class="star-region" data-star="3" value="3"><input type="radio" name="rating" class="star-region" data-star="4" value="4"><input type="radio" name="rating" class="star-region" data-star="5" value="5"></span></script><script id="tmpl-rating-comment" type="text/template"><div class="fields"> {{ if (!rated || editingMode) { }} <div class="field-comment textarea-shell"><textarea class="rating-comment" rows="5"
          name="comment" placeholder="写评论">{{- unfinishedComment || comment }}</textarea></div> {{ } else if (comment) { }} <p class="comment-text">{{- comment }}</p> {{ } }} {{ if (rated && !editingMode) { }} <a href="#" class="link-edit">修改</a> {{ } }} </div></script><script id="tmpl-form-buttons" type="text/template"> {{ if (!rated || editingMode) { }} <label class="validation-error"></label><button type="submit" class="btn-link btn-cancel">取消</button><button type="submit" class="btn btn-bubble">发表</button> {{ } }}
</script><script id="tmpl-note-display" type="text/template"><div class="note-owner"><a href="{{- note.owner.url}}" target="_blank"><img class="avatar" src="{{- note.owner.avatar}}" alt="{{- note.owner.name}}"></a><span class="author"><a href="{{- note.owner.url}}" class="lnk-author" target="_blank">{{- note.owner.name}}</a> {{ if (isArticleAuthor) { }} <span class="label-author">（作者）</span> {{ } }} 的批注 </span></div><div class="note-content">{{= autoLink(note.note)}}</div><div class="actions"><span class="private-info">仅自己可见&nbsp;|</span> {{ var split = ''}} {{ var dot = '·'}} {{ if ('edit' in actions) { }} {{- split}} <a class="edit" href="#">修改</a> {{ split = dot }} {{ } }} {{ if ('delete' in actions) { }} {{- split}} <a class="delete" href="#">删除</a> {{ split = dot }} {{ } }} {{ if ('comment' in actions) { }} {{- split}} <a class="comment" href="#"></a> {{ split = dot }} {{ } }} {{ if ('favorite' in actions) { }} {{- split}} <a class="favorite" href="#"></a> {{ split = dot }} {{ } }} {{ if ('share' in actions) { }} <span class="share-wrapper"> {{- split}} <a class="share" href="#">推荐</a> {{ split = dot }} </span> {{ } }} {{ if(total > 1) { }} <div class="right-actions tip-pagination"><span class="pagination-info">{{- current}}/{{- total}}</span><a class="prev" href="#"></a><a class="next" href="#"></a></div> {{ } }} </div></script><script id="tmpl-translation" type="text/template"><div class="title {{= query.length > 30 ? 'is-long' : ''}}">{{- query }}</div>{{ if (basic) { }}{{ if (basic.phonetic) { }}<div class="pronunciation">/{{- basic.phonetic}}/</div>{{ } }}<div class="definition">{{ basic.explains.forEach(function(item) { }}<p>{{- item }}</p>{{ }) }}</div>{{ } else if(translation.length) { }}<div class="definition"><p>{{= translation.join('；') }}</p></div>{{ } else { }}<div class="definition"><p>抱歉，未找到释义。</p></div>{{ } }}<div class="footer">翻译结果由<a href="http://fanyi.youdao.com" target="_blank">有道翻译</a>提供</div></script><script id="tmpl-toc" type="text/template"><div class="hd"><h2><span class="pattern-left"></span><span class="title">目录</span><span class="pattern-right"></span></h2></div><div id="contents-list" class="bd"><ul>{{ _.each(list, function(item, idx) { }}<li class="{{= item.readable ? '' : 'need-buy' }}">{{ if (item.readable) { }}<a id="page-{{= item.pageNum }}" tabIndex="{{= idx+1 }}" data-pid="{{= item.pid }}" href="#" class="toc-item level-{{= item.level }}"><span class="text">{{- item.title }}</span></a><span class="num">{{= item.readPageNum }}</span>{{ } else { }}<a href="#" class="toc-item level-{{= item.level }}"><span class="text">{{- item.title }}</span></a><span class="need-buy-text">未购买</span>{{ } }}</li>{{ }); }}</ul></div><div class="ft"><div class="close"></div></div></script><script id="tmpl-chapters-toc" type="text/template"><div class="hd"><h2><span class="pattern-left"></span><span class="title">篇目</span><span class="pattern-right"></span></h2></div><div id="chapters-contents-list" class="bd">{{ if (gift) { }}<ul class="gift-item-container"><li><a href="#" class="chapter-toc-gift-item show-gift"><div class="item-hd"><h3 class="chapter-title">赠言</h3></div></a></li></ul>{{ } }}<ul class="toc-list">{{ _.each(list, function(item, idx) { }}<li><a tabIndex="{{= idx+1 }}" data-permalink="permalink" href="/reader/column/{{= columnId }}/chapter/{{= item.id }}/" class="chapter-toc-item {{= currChapterId === item.id ? 'is-current' : ''}}"><div class="item-hd"><div class="action-right">{{ if (item.is_allowed_to_read) { }}<span class="current-dot"></span>{{ } }}</div><h3 class="chapter-title {{ print(item.is_read ? '' : 'unread') }}">{{- item.title }}{{ if (!item.is_read && idx === lastItemIndex) { }}<span title="最新发表" class="icon-new"></span>{{ } }}</h3><div class="chapter-meta"><span class="timestamp">{{= sec2date(item.onsale_time) }} 发表</span></div></div><div class="item-bd"><p class="abstract">{{- truncate(item.abstract, 80) }}</p></div></a>{{ if (!item.is_allowed_to_read) { }}<div class="purchase-section">{{ print(purchaseButton.render({ data: purchaseButtonData(columnId, item) }).el.outerHTML) }}</div>{{ } }}</li>{{ }) }}</ul></div><div class="ft"><div class="close"></div></div></script><script id="tmpl-bookmarks-panel" type="text/template"><div class="panel-hd"><h2>我的书签</h2></div><div class="panel-bd"></div></script><script id="tmpl-bookmarks-item" type="text/template"><div class="item-hd"><div class="percentage"><mark class="bookmark active"></mark><span class="num">{{= percent }}%</span></div><div class="date"> {{= update_time }} </div></div><div class="item-bd"><p class="abstract"> {{= abstract }} </p></div></script><script id="tmpl-annotations-panel" type="text/template"><div class="panel-head"><h2>我的批注和划线</h2><div class="head-nav"><div class="annotation-tabs"><ul class="filter-tabs"><li><a href="#" data-filter-type="all">全部</a></li><li><a href="#" data-filter-type="mine">我自己的</a></li><li><a href="#" data-filter-type="favorite">我收藏的</a></li></ul><i class="divider"></i><div class="sort-switch"><div class="hd"><i class="unfold-icon"></i><i class="sort-icon"></i><span class="sort-type"></span></div><ul class="bd sort-tabs"><li><a href="#" data-sort-type="percent">按原文顺序</a></li><li><a href="#" data-sort-type="time">按添加时间</a></li></ul></div></div></div></div><div class="panel-body"></div><div class="more-actions"><a href="#" class="btn-export">导出所有笔记</a></div></script><script id="tmpl-annotations-panel-item" type="text/template"><div class="progress"><span class="percentum"> {{ if (+extra.percent < 1) { print('< 1') } else { print(extra.percent) } }}% </span></div><div class="bd annotation-content"><div class="quote">{{- extra.text}}</div> {{ if (isNote) {}} <div class="note"> {{= autoLink(note)}} </div> {{ } }} <div class="actions"><div class="common-actions"> {{ if('favorite' in actions) { }} <a href="#" class="favorite-annotation"></a><i class="middle-dot"></i> {{ } }} {{ if(isMine && n_favorites) {}} <span class="favorite-num">被收藏&nbsp;{{- n_favorites}}</span><i class="middle-dot"></i> {{ } }} {{ if('comment' in actions) { }} <a href="#" class="comment-annotation"></a><i class="middle-dot"></i> {{ } }} <span class="share-wrapper"><a href="#" class="share-annotation">推荐</a><i class="middle-dot"></i></span><a href="#" class="jump-annotation">跳至此段</a></div><div class="edit-actions"> {{ if (!isMine) { }} <span class="owner"><a href="{{- owner.url}}" target="_blank"><img class="avatar" src="{{- owner.avatar}}" alt="{{- owner.name}}"></a><span class="author"><a href="{{- owner.url}}" class="lnk-author" target="_blank">{{- owner.name}}</a> {{ if (isArticleAuthor) { }} <span class="label-author">（作者）</span> {{ } }} &nbsp;的批注 </span></span> {{ } }} <span class="timestamp">{{- printTime(create_time)}}</span> {{ if (isMine) {}} <span class="private-info-wrapper"><i class="middle-dot"></i><span class="private-info">仅自己可见</span></span> {{ } }} {{ if('delete' in actions || isNote && 'edit' in actions) { print('&nbsp;|&nbsp;') } }} {{ if(isNote && 'edit' in actions) { }} <a href="#" class="modify-annotation">修改</a> {{ } }} {{ if('delete' in actions) { }} <a href="#" class="delete-annotation">删除</a> {{ } }} </div></div></div></script><script id="tmpl-para-annotations-overlay" type="text/template"><a href="#" class="lnk-close">&times;</a><div class="annotations-overlay para-annotations-overlay"><div class="side"></div><div class="main"><div class="head-nav"><div class="total-annotation">此段所有批注<span class="annotaiton-num">{{- totalAnnotations }}</span></div><ul class="filter-tabs"><li><a href="#" data-nav-type="hot">热门</a></li><li><a href="#" data-nav-type="newest">最新</a></li><li><a href="#" data-nav-type="favorite">我收藏的</a></li></ul></div><ul class="annotations-list"></ul></div></div></script><script id="tmpl-single-annotation-overlay" type="text/template"><a href="#" class="lnk-close">&times;</a><div class="annotations-overlay single-annotation-overlay"><div class="side"></div><div class="main"></div></div></script><script id="tmpl-single-note" type="text/template"><div class="hd"><div class="info"><a href="{{- owner.url}}" target="_blank"><img class="avatar" src="{{- owner.avatar}}" alt="{{- owner.name}}"></a><span class="author"><a href="{{- owner.url}}" class="lnk-author" target="_blank">{{- owner.name}}</a> {{ if (isArticleAuthor) { }} <span class="label-author">（作者）</span> {{ } }} &nbsp;的批注 </span><span class="time">{{- printTime(create_time, true)}}</span></div><a href="#" class="lnk-para-annotations">查看此段所有批注</a></div><div class="bd"><p class="note"> {{= autoLink(note)}} </p></div><div class="ft"> {{= noteActionsHtml }} </div></script><script id="tmpl-para-annotations-overlay-annotation-item" type="text/template"><div class="hd"><div class="comments-info"><span aria-hidden="true" class="arkicon-comment"></span><span class="comments-num">{{- n_comments}}</span></div><div class="title"><img class="avatar" src="{{- owner.avatar }}"><span class="name">{{- owner.name }}</span> {{ if (isArticleAuthor) { }} <span class="label-author">（作者）</span> {{ } }} 的批注 </div></div><div class="bd"><p class="note"> {{= autoLink(note) }} </p></div><div class="ft"><span class="create-time"> {{- printTime(create_time) }} </span> {{ if(n_favorites) { }} <span class="favorites-num"> {{- n_favorites }}人收藏 </span> {{ } }} {{ if(isPrivate) {}} <span class="private-info">仅自己可见</span> {{ } }} </div></script><script id="tmpl-content-container" type="text/template"><div class="content"></div></script><script id="tmpl-single-note-actions" type="text/template"><div class="actions"> {{ var split = ''}} {{ var dot = '·'}} {{- split}} 回复&nbsp;<span class="comments-num">{{- n_comments }}</span> {{ split = dot }} {{ if(isMine && n_favorites) { }} {{- split}} 被收藏&nbsp;<span class="favorites-num">{{- n_favorites }}</span> {{ split = dot }} {{ } }} {{ if ('favorite' in actions) { }} {{- split}} <a class="favorite" href="#"></a> {{ split = dot }} {{ } }} {{ if ('share' in actions) { }} <span class="share-wrapper"> {{- split}} <a class="share" href="#">推荐</a> {{ split = dot }} </span> {{ } }} </div><div class="edit-actions"> {{ if (isMine) { }} <span class='private-info-wrapper'><span class="private-info">仅自己可见</span>&nbsp;| </span> {{ } }} {{ if ('edit' in actions) { }} <a class="edit" href="#">修改</a>&nbsp;· {{ } }} {{ if ('delete' in actions) { }} <a class="delete" href="#">删除</a> {{ } }} </div></script><script id="tmpl-annotation-comment-text" type="text/template"> 回复 {{- n_comments > 0 ? ' ' + n_comments : ''}}
</script><script id="tmpl-annotation-favorite-text" type="text/template"> {{ if(isFavorited) { print('取消收藏') } else { print('收藏' + (n_favorites ? ' ' + n_favorites : '')) } }}
</script><script id="tmpl-annotation-comments-form" type="text/template"><input maxlength="280" type="text" class="comment-input" name="text" placeholder="添加回复..."><button type="submit" class="btn btn-post">回复</button></script><script id="tmpl-annotation-comment-item" type="text/template"><div class="hd"><div class="comment-actions"> {{ if (isMine || isAdmin) { }} <a href="#" class="delete-comment">删除</a> {{ } }} </div><a href="{{- author.url}}" target="_blank" class="author">{{- author.name}}</a> {{ if (isArticleAuthor) { }} <span class="label-author">（作者）</span> {{ } }} <span class="timestamp">{{- time}}</span></div><p class="bd comment-content">{{= autoLink(text)}}</p></script><script id="tmpl-column-header" type="text/template"><header class="lite-header"><a href="/" class="lite-logo"></a><div class="inner"><div class="lite-nav"><a href="/people/{{- agent.user_id }}/" target="_blank" class="lite-author"><img src="{{- agent.picture }}" class="avatar"/><span class="name">{{- agent.name }}</span></a><a href="/column/{{- id }}/" class="lite-title"><b>专栏</b>&nbsp;· {{- title }}</a></div><div class="btns-wrapper">{{ if (canSale) { }}{{ if (+price === 0) { }}
{{ if (!hasAdded) { }}<div class="btn-adding-wrapper"></div>{{ } else { }}
<span class="bought-status">已领取</span>{{ } }}{{ } else { }}
{{ if (isSample) { }}<div class="btn-purchase-wrapper"></div>{{ } else { }}
<span class="bought-status">已购买</span>{{ } }}{{ } }}{{ } }}
<div data-helper="订阅" class="btn-subscribe head-controls-item"><b class="arkicon-feed"></b></div></div></div></header></script><script id="tmpl-column-footer" type="text/template"><footer class="lite-footer"><div class="inner"></div></footer></script><script id="tmpl-control-guide" type="text/template"><div id="control-guide"><div class="left-pad"><p class="text"><label>点击左侧</label>上一页</p></div><div class="center-pad"><p class="text"><label>点击中间</label>打开菜单</p></div><div class="right-pad"><p class="text"><label>点击右侧</label>下一页</p></div></div></script><script id="tmpl-wechat-guide" type="text/template"><div class="wechat-guide"><div class="text-wrapper"><div class="icon-arrow"></div><span class="text">{{text}}</span></div></div></script></div><div style="display:none" id="ark-gallery" class=""><aside class="gallery-aside"></aside><div class="gallery-main"></div><aside class="gallery-controls"><div class="gallery-controls-panel"></div><div class="panel-shadow"></div><div class="gallery-pagination"></div><div class="bookmarks-container"><mark style="display:none" class="bookmark arkicon-bookmark"></mark></div><div class="chapter-overlay"><div class="chapter-switchers"><div class="chapter-prev-wrapper"><a href="https://read.douban.com/reader/ebook/12054542/#" data-direction="prev" class="chapter-switcher chapter-prev">上一篇</a></div><div class="chapter-next-wrapper"><a href="https://read.douban.com/reader/ebook/12054542/#" data-direction="next" class="chapter-switcher chapter-next">下一篇</a></div></div></div></aside><script id="tmpl-gallery-panels-container" type="text/template"><a href="#" class="close">&times</a><section class="panel-content"><div class="toc controls-content"></div><div class="chapters-toc controls-content"></div><div class="bookmarks controls-content"><div class="panel-hd"><h2><span class="pattern-left"></span><span class="title">书签</span><span class="pattern-right"></span></h2></div><div class="panel-bd"></div></div><div class="annotations controls-content"></div></section></script><script id="tmpl-gallery-toc" type="text/template"><div class="hd"><h2><span class="pattern-left"></span><span class="title">目录</span><span class="pattern-right"></span></h2></div><div class="contents-list bd"><ul>{{ _.each(list, function(item, idx) { }}<li class="item"><a data-number="{{- item.page.number}}" href="#" class="level-{{- item.tier}} toc-item"><span class="num">{{- item.page.read_number}}</span><span class="text">{{- item.title }}</span></a></li>{{ }) }}</ul></div></script><script id="tmpl-gallery-chapters-toc" type="text/template"><div class="hd"><h2><span class="pattern-left"></span><span class="title">篇目</span><span class="pattern-right"></span></h2></div><div class="contents-list bd"><ul>{{ _.each(list, function(item, idx) { }}<li class="item"><a tabIndex="{{= idx+1 }}" data-permalink="permalink" href="/reader/column/{{= columnId }}/chapter/{{= item.id }}/" class="chapter-toc-item {{= currChapterId === item.id ? 'is-current' : ''}}"><div class="item-hd"><div class="action-right">{{ if (item.is_allowed_to_read) { }}<span class="current-dot"></span>{{ } }}</div><h3 class="chapter-title">{{- item.title }}</h3><div class="chapter-meta"><span class="timestamp">{{= sec2date(item.onsale_time) }} 发表</span></div></div><div class="item-bd"><p class="abstract">{{- truncate(item.abstract, 80) }}</p></div></a>{{ if (!item.is_allowed_to_read) { }}<div class="purchase-section">{{ print(purchaseButton.render({ data: purchaseButtonData(columnId, item) }).$el) }}</div>{{ } }}</li>{{ }) }}</ul></div></script><script id="tmpl-gallery-bookmark-item" type="text/template"><div class="item-hd"><div class="position"><mark class="bookmark arkicon-bookmark active"></mark><span class="number">{{- numberLabel}}</span></div><div class="date">{{- update_time}}</div></div><div class="item-bd">{{ if (thumbnail) { }}<img src="{{- thumbnail.src}}" height="100" width="{{- Math.round(thumbnail.width / thumbnail.height * 100)}}" class="bookmark-snapshot"/>{{ } }}{{ if (abstract) { }}<p>{{- abstract}}</p>{{ } }}</div></script><script id="tmpl-gallery-footer-controls" type="text/template"><a href="#" class="btn-annotation"><span class="annotations-number">{{- annotationsNumber}}</span><span class="icon-annotation"><b class="arkicon-annotation"></b></span></a><a href="#" class="btn-share"><b class="arkicon-share"></b></a></script><script id="tmpl-gallery-page-annotations-overlay" type="text/template"><a href="#" class="lnk-close"><span class="cross-icon"><span class="plus"></span></span></a><div class="annotations-overlay page-annotations-overlay"><div class="side"><div class="content-container"></div></div><div class="main"></div></div></script><script id="tmpl-gallery-page-annotation-item" type="text/template"><div class="bd"><p class="note">{{- note}}</p></div><div class="ft"><span class="create-time">{{- printTime(create_time) }}</span><span class="actions"><a href="#" class="modify-annotation">修改</a>&nbsp; | &nbsp;<a href="#" class="delete-annotation">删除</a></span></div></script><script id="tmpl-gallery-content-container" type="text/template"><div class="progress-page"><span class="curr-page">P{{- currPage}}</span><span class="total-page">&nbsp;/&nbsp;{{- totalPage}}</span></div>{{ if (illusUrl) { }}<img src="{{- illusUrl}}"/>{{ } }}{{ if (plainDesc) { }}<div class="desc">{{= plainDesc}}</div>{{ } }}</script><script id="tmpl-gallery-add-annotation" type="text/template"><div class="add-annotation"><div class="inner"><span class="plus-icon"><span class="plus"></span></span><span class="label">添加批注</span></div></div></script><script id="tmpl-gallery-annotations-panel" type="text/template"><div class="panel-hd"><h2><span class="pattern-left"></span><span class="title">我的批注</span><span class="pattern-right"></span></h2><div class="head-nav"><ul class="sort-tabs"><li><a href="#" data-sort-type="page">按原文顺序</a></li><li><a href="#" data-sort-type="time">按时间顺序</a></li></ul></div></div><div class="panel-bd"></div></script><script id="tmpl-gallery-annotation-panel-item" type="text/template"><div class="desc-wrapper"><div class="desc"><div class="progress-page"><span class="curr-page">P{{- currPage}}</span><span class="total-page">&nbsp;/&nbsp;{{- totalPage}}</span></div>{{ if (thumbnail) {}}<div class="thumbnail"><img src="{{- thumbnail.src}}" height="{{- thumbnail.height}}" width="{{- thumbnail.width}}"/></div>{{ } }}{{ if (plainDesc) {}}<p class="plain-desc">{{= plainDesc}}</p>{{ } }}</div></div><div class="bd"><div class="note">{{- note}}</div><div class="note-footer"><span class="timestamp">{{- printTime(create_time)}}</span><span class="edit-actions"><a href="#" class="modify-annotation">修改</a>&nbsp; | &nbsp;<a href="#" class="delete-annotation">删除</a></span><span class="common-actions"><a href="#" class="jump-annotation">跳到此页</a></span></div></div></script></div><script id="tmpl-purchase-dialog" type="text/template"><section class="bill-info"><ul class="works-list"><li><span class="title">《{{- title }}》{{- (extra_title ? extra_title : '') }}</span><span class="price"></span></li></ul><div class="payment-amounts"><div class="field total"><label>总价</label><span class="value">￥<span class="count">{{= moneyformat(price) }}</span></span></div><div class="consumptions">{{ for(var i = 0, ilen = consumptions.length; i < ilen; i ++) { var item = consumptions[i]; }}<div class="field balance-consumption"><label>{{- item[0] }}</label><span class="value">&minus; ￥<span class="count">{{= moneyformat(item[1]/100) }}</span></span></div>{{ } }}</div>{{ if (amount) { }}<div class="field insufficient-amount"><label>还需支付</label><span class="value">￥<span class="count">{{= moneyformat(amount) }}</span></span></div>{{ } }}</div></section>{{ if (amount) { }}<section class="payment-channels"><h4>选择支付方式</h4><div class="content"></div></section>{{ } }}<section class="balance-deposit">账号：{{- username }}<span class="sep"></span>余额：￥{{= moneyformat(balance) }}<span class="sep"></span><a href="/account/balance" target="_blank">去充值</a></section><section class="purchase-options"><label class="checkbox"><input type="checkbox" name="secretly" {{ print(secretly ? 'checked' : '') }}="{{ print(secretly ? 'checked' : '') }}"/>购买仅自己可见</label>{{ if (!subscribed && isChapter) { }}<label class="checkbox"><input type="checkbox" name="add_subscription" checked="checked"/>订阅该专栏的后续更新消息</label>{{ } }}</section></script><script id="tmpl-purchase-success" type="text/template"><div class="success-sign">购买成功！</div>{{ if (isCartPurchase) { }}<p>你可以去阅读器中阅读这篇作品了</p>{{ } else { }}<p>你可以到阅读器中阅读已购买的作品了</p>{{ } }}<p class="count-down-tip"><span class="count-down-num">{{-sec }}</span>秒钟后自动关闭</p></script><script id="tmpl-payment-channels" type="text/template"><form target="_blank" action="/account/balance" method="POST" class="payment-form form-vertical"><div style="display:none;"><input type="hidden" name="ck" value="3nSZ"/></div><div class="channel third-party-payments field-group"><div class="channel-inline alipay"><div class="fields-inline"><label class="payment-method radio"><input type="radio" name="bankcode" value="alipay" checked="checked"/><div class="bank-box"><span class="bank-icon alipay-logo">支付宝</span></div></label></div></div><div class="channel-inline weixin-pay"><div class="fields-inline"><label class="payment-method radio"><input type="radio" name="bankcode" value="wxpay_native" =""/><div class="bank-box"><span class="bank-icon weixin-pay-logo">微信支付</span></div></label></div></div></div></form></script><script id="tmpl-bought-button" type="text/template">
{{ if (isLargeBtn) { }}<a target="_blank" href="{{- url}}" data-action="read" class="btn btn-icon btn-read"><i class="icon-read"></i>阅读</a>{{ } else { }}<a target="_blank" href="{{- url}}" data-action="read" class="btn btn-read">阅读</a>{{ } }}</script><script id="tmpl-purchase-button-inner" type="text/template">
{{ if (isLightBtn) { }}
<span class="price-tag"><label>全本定价</label><span class="prices-counts"></span>{{ if (fixedPrice && price !== fixedPrice) { }}<s class="original-price-count">￥{{- readable_fixed_price }}</s><span class="discount-price current-price-count">￥{{- readable_price }}</span>{{ } else { }}<span class="current-price-count">￥{{- readable_price }}</span>{{ } }}</span><a href="#" data-action="{{- isAnonymous ? '' : 'purchase' }}" data-target-dialog="{{- isAnonymous ? 'login' : '' }}" class="btn btn-light"><span class="icon-buy"></span><span class="btn-text">购买</span></a>{{ } else if (is_large_btn) { }}
<a href="#" data-action="{{- isAnonymous ? '' : 'purchase' }}" data-target-dialog="{{- isAnonymous ? 'login' : '' }}" class="btn btn-large {{ print(is_hollow_btn ? 'btn-hollow' : '') }}"><span class="btn-text"><span class="price">￥{{- readable_price }}</span><span style="margin: 0 0.3em; vertical-align: 0.5px" class="divition">|</span>{{ if (type === 'column') { }}购买全本{{ } else if (type === 'chapter') { }}仅购买本章节{{ } else { }}购买全本{{ } }}</span></a>{{ } else { }}
<a href="#" data-action="{{- isAnonymous ? '' : 'purchase' }}" data-target-dialog="{{- isAnonymous ? 'login' : '' }}" class="btn {{ print(is_hollow_btn ? 'btn-hollow' : '') }}"><span class="btn-text">{{- readable_price }} 元</span></a>{{ } }}</script><script id="tmpl-mobile-purchase-button" type="text/template"><div class="action-button">{{ if (is_large_btn) { }}<a href="{{- mobile_direct_purchase_url }}" class="btn btn-large">购买本篇 {{- readable_price }} 元</a>{{ } else { }}<a href="{{- mobile_direct_purchase_url }}" class="btn">{{- readable_price }} 元</a>{{ } }}</div></script><script id="tmpl-purchase-button-wrapper" type="text/template"><div data-title="{{- title }}" data-readable-price="{{- readable_price }}" data-price="{{- price }}" data-works-ids="{{- id }}" data-url="{{- url }}" data-redirect-url="{{- redirect_url }}" data-reader-url="{{- redirect_url }}" data-is-large-btn="{{ print( is_large_btn ? 'true' : 'false') }}" data-kind-name="{{- kind_name }}" data-username="{{- username }}" data-widget="{{- widget }}" data-subscribed="{{- is_subscribed }}" data-is-book="{{- +(type !== 'column' && type !== 'chapter') }}" data-is-column="{{- +(type === 'column') }}" data-is-chapter="{{- +(type === 'chapter') }}" data-is-cart="0" class="action-button"></div></script><script id="tmpl-purchase-guide" type="text/template"><div class="item">试读已结束{{ if (device === 'iphone') { }}，{{ print(+price ? '购买' : '登录') }}后继续阅读{{ } else { }}。{{ print(+price ? '购买' : '登录') }}后，可以继续阅读。{{ } }}</div><div class="item purchase-section"></div><div class="item"><a href="/ebook/{{= id }}/" target="_blank" class="link-more">去商店了解更多</a></div></script><script id="tmpl-gift-page" type="text/template"><div class="words-wrapper"><div class="words-wrapper-cell"><div class="words-main"><div class="words-hd">给 {{- recipient }}</div><div class="words-bd">{{- words }}</div><div class="words-ft">{{- sender }}<br/>{{- date }}</div></div></div></div></script><script id="tmpl-extra-controls" type="text/template">
{{ if (+price === 0) { }}
{{ if (!hasAdded) { }}<div class="btn-adding-wrapper"></div>{{ } else { }}
<span class="bought-status">已领取</span>{{ } }}{{ } else { }}
{{ if (isSample) { }}<div class="btn-purchase-wrapper"></div>{{ } else { }}
<span class="bought-status">已购买</span>{{ } }}{{ } }}</script><script id="tmpl-chapter-extra-controls" type="text/template">
{{ if (canSale) { }}{{ if (+price === 0) { }}
{{ if (!hasAdded) { }}<div class="btn-adding-wrapper"></div>{{ } else { }}
<span class="bought-status">已领取</span>{{ } }}{{ } else { }}
{{ if (isSample) { }}<div class="btn-purchase-wrapper"></div>{{ } else { }}
<span class="bought-status">已购买</span>{{ } }}{{ } }}{{ } }}{{ if (!isSubscribed && !hasFinished) { }}<a href="#" data-target-dialog="{{- isAnonymous ? 'login' : ''}}" class="lnk-subscribe"><span class="icon-subscribe"></span><span class="btn-text">订阅</span></a>{{ } }}</script><script id="tmpl-added-status" type="text/template"><span class="bought-status">已领取</span></script><script id="tmpl-add-to-bookshelf" type="text/template"><span class="price-tag">全本免费</span>{{ if (isAnonymous) { }}
{{ if (fitForMobile || isWeixin) { }}<a href="{{- loginUrl }}" class="login">登录</a>{{ } else { }}<a href="#" data-target-dialog="login" class="login lnk-collect"><span class="icon-buy"></span><span class="btn-text">领取</span></a>{{ } }}{{ } else { }}<a href="#" class="lnk-collect"><span class="icon-buy"></span><span class="btn-text">领取</span></a>{{ } }}</script><script id="tmpl-add-to-bookshelf-confirm" type="text/template"><header class="works-info"><h4><span class="title">《{{- title}}》</span><span class="price">免费</span></h4></header><section class="account-info"><div class="balance">账户：{{- username}}</div></section><div class="purchase-options"><label class="checkbox"><input type="checkbox" name="secretly" checked="checked"/>领取仅自己可见</label></div></script><script id="tmpl-pagination" type="text/template"><div data-direction="prev" data-helper="前翻" class="turn-prev page-prev"></div><div data-direction="next" data-helper="后翻" class="turn-next page-next"></div></script><script id="tmpl-page-portal" type="text/template"><div class="page-portal"><div class="page-info"><span class="curr-num">1</span><span class="slash">/</span><span class="total-num">1</span><span class="progress-num">0%</span><a href="#" class="page-form-switch"><b class="switch-arrow"></b></a></div><div class="page-jump"><form class="page-form"><input type="text" value="5" class="page-input"/><button type="submit" class="page-submit"></button></form><span class="page-custom-label">当前页</span></div></div></script><script id="tmpl-page-subsequent" type="text/template"><span class="not-last-page">本章剩余<span class="subsequent-num"></span>页</span><span class="when-last-page">本章结束</span></script><script type="text/template" id="tmpl-alert"><div id="ark-alert"><div class="alert-main"><div class="bd content"><div class="title">{{= title }}</div><div class="text">{{= text }}</div></div><div class="ft"><div class="buttons"><a data-name="confirm" href="#" class="btn btn-read confirm">{{= confirm }}</a></div></div></div></div></script><script type="text/template" id="tmpl-alert-with-aside"><div id="ark-alert" class="alert-with-aside"><div class="alert-main"><div class="bd content"><div class="title">{{= title }}</div><div class="text">{{= text }}</div></div><div class="ft"><div class="buttons"><a data-name="confirm" href="#" class="btn btn-read confirm">{{= confirm }}</a></div></div></div><div class="alert-aside"><div class="bd content"><div class="title">{{= asideTitle }}</div><div class="text">{{= asideText }}</div></div><div class="ft"><div class="buttons"><a data-name="asideConfirm" href="#" class="btn aside-confirm">{{= asideConfirm }}</a></div></div></div></div></script><script id="tmpl-mobile-app-ad" type="text/template"><a href="{{- url}}" class="intro"><div class="logo"></div><div class="bd"><h4 class="title">豆瓣阅读客户端</h4><div class="desc">下载后免费阅读原创作品</div></div></a><a href="{{- url}}" class="btn btn-primary btn-download btn-large {{- className}}">免费下载</a><a href="#" class="close-wrapper"><div class="close">&times;</div></a></script><script id="tmpl-desktop-app-ad" type="text/template"><div class="hd"><a href="#" class="close">×</a></div><div class="help-msg">扫码下载客户端<br/>手机/Pad随时读</div><a href="/app?icn=qr-from-reader" target="_blank" class="app-qrcode"></a></script><script id="tmpl-dialog-app-ad" type="text/template"><div class="btn-download-wrapper"><a href="{{- url}}" class="btn btn-primary btn-download btn-large"><span class="smartphone-icon"></span><span>免费下载</span><span class="arkicon-angle-right"></span></a></div></script><script id="tmpl-ebook-purchase" type="text/template"><a href="/ebook/{{- id}}/" class="btn btn-primary">{{- price }} 元</a></script><script id="tmpl-simple-subscribe" type="text/template">
{{ if (isAnonymous) { }}<a data-target-dialog="login" class="btn btn-primary login">订 阅</a>{{ } else if (!is_subscribed) { }}<a class="btn fixed-btn btn-primary btn-subscribe">订 阅</a>{{ } }}</script><script id="tmpl-sharing-buttons" type="text/template"><div class="share-buttons icon-{{ print(size ? size : 'normal') }}"><span class="share-text">分享到</span><a title="分享到豆瓣" href="#" class="rec-douban">分享到豆瓣</a><a title="分享到微信" href="#" class="rec-wechat">分享到微信</a><a title="分享到微博" href="#" class="rec-weibo">分享到微博</a><a title="分享到腾讯微博" href="#" class="rec-tencent">分享到腾讯微博</a><a title="分享到QQ好友" href="#" class="rec-qqim">分享到QQ好友</a><a title="分享到QQ空间" href="#" class="rec-qzone">分享到QQ空间</a><a title="分享到人人网" href="#" class="rec-renren">分享到人人网</a></div></script><script id="tmpl-wechat-share" type="text/template"><div class="wechat-qrcode"><div class="qr-container"></div><div class="help">打开微信“扫一扫”，扫码后点击右上角<img src="https://img3.doubanio.com/f/ark/fe61420ad7ab6f5f6334ca6883b88627b4c407ad/pics/sharebuttons/icon-wechat-more.png" alt="分享" width="20px" height="20px" class="icon-wechat-more"/>按钮即可进行分享。</div></div></script><script id="tmpl-responses" type="text/template"><div class="responses"><a href="#" id="like-it">喜欢</a><span count="0" class="like-count">喜欢</span><span count="0" class="read-count">阅读</span></div></script><script id="tmpl-sharing-form" type="text/template"><div class="bd"><div class="textarea-shell"><textarea class="textarea-text"
        maxlength="140"
        placeholder="写点什么吧" name="text"></textarea></div></div><div class="actions"> {{= sharingActionsHtml}} {{ if (isNote) { }} <div class="comment-action"><label class="checkbox"><input id="add-comment" name="add_comment" type="checkbox" checked>也作为回复</label></div> {{ } }} <div class="form-actions"><a class="ln-cancel" href="#">取消</a><button class="btn btn-bubble btn-post" type="submit">确定</button></div></div></script><script id="tmpl-sharing-actions" type="text/template"> {{ if (allowShare) { }} <div class="share-options"> {{ if (sharingLabel) { }} <span class="label"> {{- sharingLabel}}到 </span> {{ } }} <label class="checkbox"><input id="share-dou" name="share_dou" {{ if (share_dou) { print('checked') } }} type="checkbox" >豆瓣广播</label><span class="item-weibo-wrapper"></span><span class="weibo-setting"><a href="/share/sina/connect" class="tips-bind" target="_blank">绑定新浪微博</a></span><a class="share-setting" target="_blank" href="/account/setting">设置</a></div> {{ } }} {{ if (hasVisibleSetting) { }} <div class="note-visible-wrapper"><label class="checkbox"><input id="note-visible" name="visible_private" {{ if (visible_private) { print('checked') } }} type="checkbox" >仅自己可见</label></div> {{ } }}
</script><script id="tmpl-share-weibo" type="text/template"> {{ if (weiboBinded) { }} <label class="checkbox"><input id="share-weibo" name="share_weibo" {{ if (share_weibo) { print('checked') } }} type="checkbox">新浪微博</label> {{ } }}
</script><script id="tmpl-debug-form" type="text/template"><div class="textarea-shell"><textarea placeholder="错误描述" name="text"
      maxlength="500" required></textarea></div><div class="actions"><div class="form-actions"><a class="ln-cancel" href="#">取消</a><button class="btn btn-bubble btn-post" type="submit">确定</button></div></div></script><script id="tmpl-note-form" type="text/template"><div class="textarea-shell"><textarea placeholder="你的批注" name="text" required>{{- content}}</textarea></div><div class="actions"> {{= sharingActionsHtml}} <div class="form-actions"><a class="ln-cancel" href="#">取消</a><button class="btn btn-bubble btn-post" type="submit">确定</button></div></div></script><script id="tmpl-note-inline-form" type="text/template"><textarea type="text" maxlength="500" class="text">{{- text}}</textarea><div class="form-footer"><div class="form-actions"><a href="#" class="button cancel">取消</a><button type="submit" class="btn post">保存</button></div><div class="private-setting"><label class="checkbox"><input type="checkbox" {{ if (visible_private) { print('checked') } }} name="visible_private" >仅自己可见 </label></div></div></script><script id="tmpl-search-box" type="text/template"><form autocomplete="off" class="search-form"><input name="query" type="text" placeholder="输入字词或者页码" value="{{= query}}" class="query"/><button class="icon-search"></button></form><div class="results"><div class="pagenum-result"><h4 class="results-title">页码</h4><ul></ul></div><div class="search-result"><h4 class="results-title">搜索结果<span class="search-results-count"></span></h4><ul></ul></div><div class="empty-msg"><span>没有找到相关的内容</span></div></div></script><script id="tmpl-pagenum-result" type="text/template"><li data-pno="{{- result.pagination }}" class="result-item"><h5 class="result-title">第 {{= real2read(result.pagination) }} 页，{{- result.title }}</h5></li></script><script id="tmpl-search-result" type="text/template">
{{ _.each(items, function(item, i) { }}<li data-pno="{{- item.page.pagination }}" data-index="{{- i}}" data-pid="{{- item.paragraph.pid }}" class="result-item"><span class="page-num">{{= _.map(item.paginations, real2read).join(', ') }}</span><h5 class="result-title">{{- item.page.title }}</h5><p class="abstract">{{- item.texts.left }}<mark>{{- item.texts.self }}</mark>{{- item.texts.right }}</p></li>{{ }) }}</script><script>
if (!window.history || !window.history.pushState) {
  if (!location.hash) {
      var works = {"type":"t","id":"12054542","isChapter":false};
      sessionStorage.works = JSON.stringify(works);
      sessionStorage.works___isObject = true; // Simulate `reader/modules/session`
      location.replace(location.href.replace(/(\/reader\/)(.*)$/, '$1#$2'));
  }
}</script><script>
  var Ark = {
    CDN_PUBLIC_PATH: 'https://img1.doubanio.com/dae/staticng/s/ark/latest/'
  , DOUBAN: 'https://www.douban.com'
  , DOUBAN_LOGIN_POPUP_URL: "https://accounts.douban.com/popup/login"
  , showTexError: false
  , ZeroClipboardPath: "https://img3.doubanio.com/f/ark/42cec6e7f489b082df531e19c0341d48a6239cf5/media/ZeroClipboard/2.2.0/ZeroClipboard.swf"
  , ANNOTATION_GUIDE_PIC: "https://img3.doubanio.com/f/ark/921de9ebc38bc80d4b76417ba4c1b27f7626e24f/pics/reader/snapshot-social-annotation.png"
  , READER_DATA_VERSION: 'v13'
  , EBOOK_STYLE_SHEET: 'ebook-style-sheet'
  , GALLERY_STYLE_SHEET: 'gallery-style-sheet'
  , COLUMN_STYLE_SHEET: 'column-style-sheet'
  , MathJaxLibUrl: 'https://img1.doubanio.com/' + 'libs/MathJax/2.6.1/MathJax.js'

  , me: {"name":"影忆","user_type":1,"profileURL":"https:\/\/www.douban.com\/people\/151007451\/","avatar":"https://img3.doubanio.com\/icon\/u151007451-1.jpg","signature":"","id":"151007451"}
  , works: {"type":"t","id":"12054542","isChapter":false}
  , ua: {
      device: "windows"
    , deviceVersion: null
    , browser: "chrome"
    , browserVersion: 52
    }
  }

  var features = {}


  Ark.features = features

  Ark.me.isAnonymous = false
  Ark.me.isAdmin = false
  Ark.me.hasAgentSite = false
</script><script src="./图解HTTP - 〔日〕上野宣 著 于均良 译 人民邮电出版社 _ 豆瓣阅读_files/shim.js"></script><script>
window.MathJax={config:["MMLorHTML.js"],extensions:["tex2jax.js","toMathML.js"],"HTML-CSS":{linebreaks:{automatic:!0,width:"95% container"}},jax:["input/TeX","output/NativeMML"],skipStartupTypeset:!0,"v1.0-compatible":!1,messageStyle:"simple",styles:{"#MathJax_MSIE_Frame":{left:"45%"},"#MathJax_Message":{top:"18.75em",left:"45%",color:"#999",border:"none",background:"none","font-size":"auto"}},showMathMenu:!1,showMathMenuMSIE:!1,positionToHash:!1,preRemoveClass:"mjp",errorSettings:{message:["[公式解析失败]"]},AuthorInit:function(){MathJax.Hub.Register.StartupHook("Begin",function(){MathJax.Message.filterText=function(){var labelAlias={Loading:"加载资源文件...",Processing:"处理中...",Typesetting:"解析..."},progressAlias={"Typesetting math:":"处理数学公式:","Processing math:":"解析数学公式:"};return function(text){var alias,progressAliasMatch=text.match(/^\w+ math:/);if(progressAliasMatch&&(alias=progressAlias[progressAliasMatch[0]]))return text.replace(progressAliasMatch[0],alias);var labelAliasMatch=text.match(/^\w+/);return labelAliasMatch?labelAlias[labelAliasMatch[0]]:text}}()})}};
</script><script src="./图解HTTP - 〔日〕上野宣 著 于均良 译 人民邮电出版社 _ 豆瓣阅读_files/vendor.js"></script><script src="./图解HTTP - 〔日〕上野宣 著 于均良 译 人民邮电出版社 _ 豆瓣阅读_files/setup.js"></script><script>
  !function(){function detect(){var observer=new MutationObserver(function(mutations){mutations.forEach(function(mutation){mutation.addedNodes&&1===mutation.addedNodes.length&&"gk7-douban-result-msg"===mutation.addedNodes[0].className&&ga("send","event","reader","sendToKindle",Ark.me.id)})});observer.observe(document.body,{childList:!0})}var MutationObserver=window.MutationObserver||window.WebKitMutationObserver;if(MutationObserver)try{detect()}catch(e){}}();

// XXX: dirty but work
// TODO: extract notification
var Do = function(func) { func() };
Do(function(){function toggleMenu(showOrHide){menuContainer.toggle(showOrHide)}var moreActive=$(".more-active"),menuContainer=moreActive.find(".more-items"),bnMore=moreActive.find(".bn-more"),hoverableBtns=moreActive.find(".bn-more-hoverable").add(bnMore),useClick="undefined"!=typeof window.ontouchstart;if(useClick){var doc=$(document),menuContainerIsShown=!1,toggleMenuWithClick=function(showOrHide){menuContainerIsShown?doc.off(".moreItems"):doc.on("click.moreItems",function(e){moreActive.has(e.target).length||toggleMenuWithClick(!1)}),menuContainerIsShown=!menuContainerIsShown,toggleMenu(showOrHide)};return bnMore.click(function(){toggleMenuWithClick()}),void hoverableBtns.click(function(e){e.preventDefault()})}var moreActiveIsHover=!1,moniterElements=$(hoverableBtns).add(menuContainer);moniterElements.mouseenter(function(){moreActiveIsHover=!0,toggleMenu(!0)}).mouseleave(function(){moreActiveIsHover=!1,setTimeout(function(){moreActiveIsHover||toggleMenu(!1)},0)}),menuContainer.on("click","a",function(){toggleMenu(!1)})});
</script><script>
var _paq = _paq || [];
_paq.push(['trackPageView']);
_paq.push(['enableLinkTracking']);
(function() {
  var p=(('https:' == document.location.protocol) ? 'https' : 'http'), u=p+'://fundin.douban.com/';
  _paq.push(['setTrackerUrl', u+'piwik']);
  _paq.push(['setSiteId', '100001']);
  var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
  g.type='text/javascript';
  g.defer=true;
  g.async=true;
  g.src=p+'://img3.doubanio.com/dae/fundin/piwik.js';
  s.parentNode.insertBefore(g,s);
})();


  ga('require', 'ecommerce', 'ecommerce.js');
  ga('require', 'campaignLoader', { debug: false });
  ga('campaignLoader:loadCampaignFields');

  ga('send', 'pageview', {
    hitCallback: window.Ark && Ark.onGAPageViewDone
  });





ga('set', 'dimension1', '0');




ga('set', 'dimension2', '17');


ga('set', 'dimension5', 'a');


ga('set', 'dimension3', 'desktop');</script><script async="async" src="./图解HTTP - 〔日〕上野宣 著 于均良 译 人民邮电出版社 _ 豆瓣阅读_files/campaign-loader.js"></script><!-- sindar24d-docker --><div class="tooltip btns-tip" style="display: block; top: 293px; left: 432px;"><div class="bubble-content"><ul class="action-list"><li class="action-underline"><button class="underline">划线</button></li><li class="action-note"><button class="note">批注</button></li><li class="action-sharing"><button class="sharing">分享</button></li><li class="action-copy"><button class="copy">复制</button></li><li class="action-debug"><button class="debug">纠错</button></li></ul></div><div class="_arrow-box arrow-outer" style="border-style: solid; border-color: rgb(0, 0, 0) transparent transparent; position: absolute; top: 100%; border-width: 6px; left: 147px; margin-left: -6px;"></div><div class="_arrow-box arrow-inner" style="border-style: solid; border-color: rgb(76, 76, 72) transparent transparent; position: absolute; top: 100%; border-width: 5px; left: 147px; margin-left: -5px;"></div></div><progress role="progressbar" aria-valuemin="0" aria-valuemax="100" id="reading-progress" max="100" class="pos-bottom" value="6.73913" aria-valuenow="6.739130434782608"></progress><div class="tooltip" style="display: none;"><div class="bubble-content"></div></div><div class="annotation-guide-bubble" style="top: 124.5px; left: 43px; display: none;"><div class="bubble-content"><div><div class="hd"><h3>批注的新功能上线啦<i class="icon-new"></i></h3><a href="https://read.douban.com/reader/ebook/12054542/#" class="lnk-close">×</a></div><div class="bd"><p>打开这个批注开关后，你就可以看到你的友邻和他人对这本书写的批注。</p><a href="https://read.douban.com/reader/ebook/12054542/#" class="btn-more-info btn btn-green">知道了<i class="arrow-right"></i></a></div></div></div></div><div class="search-dialog" style="display: none;"><b class="bubble-close">×</b><h3 class="dialog-title">搜索本文</h3><div class="bubble-content"><div class="search-box"><form autocomplete="off" class="search-form"><input name="query" type="text" placeholder="输入字词或者页码" value="" class="query"><button class="icon-search"></button></form><div class="results"><div class="pagenum-result"><h4 class="results-title">页码</h4><ul></ul></div><div class="search-result"><h4 class="results-title">搜索结果<span class="search-results-count"></span></h4><ul></ul></div><div class="empty-msg"><span>没有找到相关的内容</span></div></div></div></div></div></body></html>